{"title":"Nightwatch 打开多个窗口","slug":"2018/01/open-multiple-windows","date":"2018-01-02T01:57:32.000Z","updated":"2024-09-09T09:02:28.807Z","comments":true,"path":"api/articles/2018/01/open-multiple-windows.json","excerpt":null,"covers":null,"content":"<p>如果想打开两个窗口并控制那个窗口怎么办？</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> url = process.<span class=\"property\">env</span>.<span class=\"property\">BASE_URL</span>, newWindow;</span><br><span class=\"line\"></span><br><span class=\"line\">client.<span class=\"title function_\">execute</span>(<span class=\"keyword\">function</span> (<span class=\"params\">url, newWindow</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">open</span>(url, newWindow, <span class=\"string\">&#x27;height=768,width=1024&#x27;</span>);</span><br><span class=\"line\">&#125;, [url, newWindow]);</span><br><span class=\"line\"></span><br><span class=\"line\">client.<span class=\"title function_\">window_handles</span>(<span class=\"keyword\">function</span>(<span class=\"params\">result</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">verify</span>.<span class=\"title function_\">equal</span>(result.<span class=\"property\">value</span>.<span class=\"property\">length</span>, <span class=\"number\">2</span>, <span class=\"string\">&#x27;There should be 2 windows open&#x27;</span>);</span><br><span class=\"line\">    newWindow = result.<span class=\"property\">value</span>[<span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">switchWindow</span>(newWindow);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n","more":"<p>如果想打开两个窗口并控制那个窗口怎么办？</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> url = process.<span class=\"property\">env</span>.<span class=\"property\">BASE_URL</span>, newWindow;</span><br><span class=\"line\"></span><br><span class=\"line\">client.<span class=\"title function_\">execute</span>(<span class=\"keyword\">function</span> (<span class=\"params\">url, newWindow</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">open</span>(url, newWindow, <span class=\"string\">&#x27;height=768,width=1024&#x27;</span>);</span><br><span class=\"line\">&#125;, [url, newWindow]);</span><br><span class=\"line\"></span><br><span class=\"line\">client.<span class=\"title function_\">window_handles</span>(<span class=\"keyword\">function</span>(<span class=\"params\">result</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">verify</span>.<span class=\"title function_\">equal</span>(result.<span class=\"property\">value</span>.<span class=\"property\">length</span>, <span class=\"number\">2</span>, <span class=\"string\">&#x27;There should be 2 windows open&#x27;</span>);</span><br><span class=\"line\">    newWindow = result.<span class=\"property\">value</span>[<span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">switchWindow</span>(newWindow);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n","categories":[{"name":"Automation","path":"api/categories/Automation.json"}],"tags":[{"name":"Nightwatch","path":"api/tags/Nightwatch.json"},{"name":"Automation","path":"api/tags/Automation.json"}]}