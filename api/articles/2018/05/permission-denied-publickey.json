{"title":"Error: Permission denied (publickey)","slug":"2018/05/permission-denied-publickey","date":"2018-05-06T08:15:18.000Z","updated":"2024-06-10T17:29:34.246Z","comments":true,"path":"api/articles/2018/05/permission-denied-publickey.json","excerpt":null,"covers":null,"content":"<p>如果你想在一台电脑上配置 github 和 bitbucket，如何配置多个 SSH git key？<br>输入以下命令生成 SSH Key，注意在生成过程中最好输入新的名字，比如 id_rsa_github 和 id_rsa_bitbucket</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">&quot;your_email@youremail.com&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>然后将生成的 SSH key 文件内容复制到对应网址的个人用户设置中即可。但是明明按照官方教程做的但是在 git clone 的时候还是遇到以下问题：<br>Error: Permission denied (publickey)<br>困恼了几天的错误终于解决了。</p>\n<p><a href=\"https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/\">参看这个文档</a></p>\n<p>由于我用的是macOS Sierra 10.13.3，<a href=\"https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/#adding-your-ssh-key-to-the-ssh-agent\">文档这里</a>写着如果是macOS Sierra 10.12.2 及以后的版本需要在<br>~&#x2F;.ssh 目录下创建一个 config 文件<br>congfig 文件的具体配置如下：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">Host *</span><br><span class=\"line\"> AddKeysToAgent <span class=\"built_in\">yes</span></span><br><span class=\"line\"> UseKeychain <span class=\"built_in\">yes</span></span><br><span class=\"line\"> IdentityFile ~/.ssh/id_rsa_github</span><br><span class=\"line\"></span><br><span class=\"line\">Host *</span><br><span class=\"line\"> AddKeysToAgent <span class=\"built_in\">yes</span></span><br><span class=\"line\"> UseKeychain <span class=\"built_in\">yes</span></span><br><span class=\"line\"> IdentityFile ~/.ssh/id_rsa_bitbucket</span><br></pre></td></tr></table></figure>\n\n<p>配置了这个文件之后，再次尝试</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> git@github.com:shenxianpeng/blog.git</span><br></pre></td></tr></table></figure>\n\n<p>可以 download 代码了，两个 SSH git 都好用了 : )</p>\n","more":"<p>如果你想在一台电脑上配置 github 和 bitbucket，如何配置多个 SSH git key？<br>输入以下命令生成 SSH Key，注意在生成过程中最好输入新的名字，比如 id_rsa_github 和 id_rsa_bitbucket</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">&quot;your_email@youremail.com&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>然后将生成的 SSH key 文件内容复制到对应网址的个人用户设置中即可。但是明明按照官方教程做的但是在 git clone 的时候还是遇到以下问题：<br>Error: Permission denied (publickey)<br>困恼了几天的错误终于解决了。</p>\n<p><a href=\"https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/\">参看这个文档</a></p>\n<p>由于我用的是macOS Sierra 10.13.3，<a href=\"https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/#adding-your-ssh-key-to-the-ssh-agent\">文档这里</a>写着如果是macOS Sierra 10.12.2 及以后的版本需要在<br>~&#x2F;.ssh 目录下创建一个 config 文件<br>congfig 文件的具体配置如下：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">Host *</span><br><span class=\"line\"> AddKeysToAgent <span class=\"built_in\">yes</span></span><br><span class=\"line\"> UseKeychain <span class=\"built_in\">yes</span></span><br><span class=\"line\"> IdentityFile ~/.ssh/id_rsa_github</span><br><span class=\"line\"></span><br><span class=\"line\">Host *</span><br><span class=\"line\"> AddKeysToAgent <span class=\"built_in\">yes</span></span><br><span class=\"line\"> UseKeychain <span class=\"built_in\">yes</span></span><br><span class=\"line\"> IdentityFile ~/.ssh/id_rsa_bitbucket</span><br></pre></td></tr></table></figure>\n\n<p>配置了这个文件之后，再次尝试</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> git@github.com:shenxianpeng/blog.git</span><br></pre></td></tr></table></figure>\n\n<p>可以 download 代码了，两个 SSH git 都好用了 : )</p>\n","categories":[{"name":"Git","path":"api/categories/Git.json"}],"tags":[{"name":"Git","path":"api/tags/Git.json"}]}