{"title":"About Python pip install and versioning","slug":"2020/08/about-pip-install-and-versioning","date":"2020-08-30T14:30:50.000Z","updated":"2024-04-28T15:41:32.634Z","comments":true,"path":"api/articles/2020/08/about-pip-install-and-versioning.json","excerpt":"BackgroupIf you want to release python project on PyPI, you must need to know about PyPI usage characteristics, then I did some test about pip install command.For example: I have a Python project called demo-pip. and beta release would like 1.1.0.xxxx, offical release version is 1.1.0 to see if could success upgrade when using pip command.Base on the below test results, I summarized as follows:   Install a specific version of demo-pip from PyPI, with --upgrade option or not, they’ll all both success.   Install the latest package version of demo-pip from PyPI that version is large than the locally installed package version, with --upgrade option installs successfully. without --upgrade option install failed.   Install the latest package version of demo-pip from PyPI that version is less than the locally installed package version, with --upgrade option or not, install failed.   1.1.0.xxxx version naming is OK, but when the beta version is larger than 1.1.0, for example, the beta version is 1.1.0.1000, pip install with --upgrade not work when our official release version is 1.1.0.<br>a.\tOne option is the official release version start from 1.1.0.1000, beta version starts from 1.1.0.0001, 1.1.0.0002… Or the beta version should be less than 1.1.0, maybe 1.0.0.xxxx<br>b.\tAnother option is follow up python official versioning that is the best practice, then the beta release version will be 1.1.b1, 1.1.b2, 1.1.bN… (it passed No.5 test below)My Test Case","covers":null,"content":"<h2 id=\"Backgroup\"><a href=\"#Backgroup\" class=\"headerlink\" title=\"Backgroup\"></a>Backgroup</h2><p>If you want to release python project on PyPI, you must need to know about PyPI usage characteristics, then I did some test about pip install command.</p>\n<p>For example: I have a Python project called <code>demo-pip</code>. and beta release would like <code>1.1.0.xxxx</code>, offical release version is <code>1.1.0</code> to see if could success upgrade when using <code>pip</code> command.</p>\n<p>Base on the below test results, I summarized as follows:</p>\n<ol>\n<li>   Install a specific version of demo-pip from PyPI, with <code>--upgrade</code> option or not, they’ll all both success.</li>\n<li>   Install the latest package version of demo-pip from PyPI that version is large than the locally installed package version, with <code>--upgrade</code> option installs successfully. without <code>--upgrade</code> option install failed.</li>\n<li>   Install the latest package version of demo-pip from PyPI that version is less than the locally installed package version, with <code>--upgrade</code> option or not, install failed.</li>\n<li>   1.1.0.xxxx version naming is OK, but when the beta version is larger than 1.1.0, for example, the beta version is 1.1.0.1000, pip install with <code>--upgrade</code> not work when our official release version is 1.1.0.<br>a.\tOne option is the official release version start from 1.1.0.1000, beta version starts from 1.1.0.0001, 1.1.0.0002… Or the beta version should be less than 1.1.0, maybe 1.0.0.xxxx<br>b.\tAnother option is follow up <a href=\"https://www.python.org/dev/peps/pep-0440/\">python official versioning</a> that is the best practice, then the beta release version will be 1.1.b1, 1.1.b2, 1.1.bN… (it passed No.5 test below)</li>\n</ol>\n<h2 id=\"My-Test-Case\"><a href=\"#My-Test-Case\" class=\"headerlink\" title=\"My Test Case\"></a>My Test Case</h2><span id=\"more\"></span>\n\n<table>\n<thead>\n<tr>\n<th>&lt;No.&gt;</th>\n<th>&lt;Test Case Steps&gt;</th>\n<th>&lt;Test Output&gt;</th>\n<th>&lt;Test Results&gt;</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>1.build and install demo-pip-1.0.5<br>2.install from PyPI. on PyPI, the latest version is 1.0.4</td>\n<td>C:\\workspace\\demo-pip&gt;pip install dist\\demo-pip-1.0.5-py3-none-any.whl<br>Processing c:\\workspace\\demo-pip\\dist\\demo-pip-1.0.5-py3-none-any.whl<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.4<br>    Uninstalling demo-pip-1.0.4:<br>      Successfully uninstalled demo-pip-1.0.4<br>Successfully installed demo-pip-1.0.5<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> –upgrade demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Requirement already up-to-date: demo-pip in c:\\program files\\python38\\lib\\site-packages (1.0.5)</td>\n<td>install with <code>--upgrade</code> option failed when the installed version number is less than the current version number</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1.rebuild and install demo-pip-1.0.3<br>2.install from PyPI again with <code>--upgrade</code> option</td>\n<td>C:\\workspace\\demo-pip&gt;pip install dist\\demo-pip-1.0.3-py3-none-any.whl<br>Processing c:\\workspace\\demo-pip\\dist\\demo-pip-1.0.3-py3-none-any.whl<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.5<br>    Uninstalling demo-pip-1.0.5:<br>      Successfully uninstalled demo-pip-1.0.5<br>Successfully installed demo-pip-1.0.3<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> –upgrade demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Collecting demo-pip<br>  Downloading <a href=\"https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl\">https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl</a> (51 kB)<br>     |████████████████████████████████| 51 kB 362 kB&#x2F;s<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.3<br>    Uninstalling demo-pip-1.0.3:<br>      Successfully uninstalled demo-pip-1.0.3<br>Successfully installed demo-pip-1.0.4</td>\n<td>install with <code>--upgrade</code> option success from PyPI when install version number is larger than the current version number</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1. create a new build demo-pip-1.0.3.1000<br>2. install demo-pip-1.0.3.1000 with <code>--upgrade</code> option<br>3. install demo-pip-1.0.3.1000, without <code>--upgrade</code> option</td>\n<td>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> –upgrade demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Collecting demo-pip<br>  Downloading <a href=\"https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl\">https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl</a> (51 kB)<br>     |████████████████████████████████| 51 kB 83 kB&#x2F;s<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.3.1000<br>    Uninstalling demo-pip-1.0.3.1000:<br>      Successfully uninstalled demo-pip-1.0.3.1000<br>Successfully installed demo-pip-1.0.4<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Requirement already satisfied: demo-pip in c:\\program files\\python38\\lib\\site-packages (1.0.3.1000)</td>\n<td>1. install with <code>--upgrade</code> option success<br> 2. install without <code>--upgrade</code> option failed</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1. create a new build demo-pip-1.0.4.1000<br>2. install demo-pip-1.0.4.1000 with <code>--upgrade</code> option.<br>3. install specific version of demo-pip</td>\n<td>C:\\workspace\\demo-pip&gt;pip install dist\\demo-pip-1.0.4.1000-py3-none-any.whl<br>Processing c:\\workspace\\demo-pip\\dist\\demo-pip-1.0.4.1000-py3-none-any.whl<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.4<br>    Uninstalling demo-pip-1.0.4:<br>      Successfully uninstalled demo-pip-1.0.4<br>Successfully installed demo-pip-1.0.4.1000<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> –upgrade demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Requirement already up-to-date: demo-pip in c:\\program files\\python38\\lib\\site-packages (1.0.4.1000)<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a>  demo-pip&#x3D;&#x3D;1.0.4<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Collecting demo-pip&#x3D;&#x3D;1.0.4<br>  Downloading <a href=\"https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl\">https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl</a> (51 kB)<br>     |████████████████████████████████| 51 kB 362 kB&#x2F;s<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.4.1000<br>    Uninstalling demo-pip-1.0.4.1000:<br>      Successfully uninstalled demo-pip-1.0.4.1000<br>Successfully installed demo-pip-1.0</td>\n<td>Install failed when the install version number is less than the currently installed version number<br> <br>if install a specific version of demo-pip with <code>--upgrade</code> option or not. will both works.</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1. Follow up python official version naming for beta-version, create a new build demo-pip-1.0.b1<br>2. install from PyPi without <code>--upgrade</code> option<br>3. install from PyPi with <code>--upgrade</code> option</td>\n<td>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Requirement already satisfied: demo-pip in c:\\program files\\python38\\lib\\site-packages (1.0b1)<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> –upgrade demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Collecting demo-pip<br>  Downloading <a href=\"https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl\">https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl</a> (51 kB)<br>     |████████████████████████████████| 51 kB 362 kB&#x2F;s<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0b1<br>    Uninstalling demo-pip-1.0b1:<br>      Successfully uninstalled demo-pip-1.0b1<br>Successfully installed demo-pip-1.0.4</td>\n<td>install successful with <code>--upgrade</code> option<br>so it means 1.0.b1 version number is less than 1.0.4 version</td>\n</tr>\n</tbody></table>\n","more":"<table>\n<thead>\n<tr>\n<th>&lt;No.&gt;</th>\n<th>&lt;Test Case Steps&gt;</th>\n<th>&lt;Test Output&gt;</th>\n<th>&lt;Test Results&gt;</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>1.build and install demo-pip-1.0.5<br>2.install from PyPI. on PyPI, the latest version is 1.0.4</td>\n<td>C:\\workspace\\demo-pip&gt;pip install dist\\demo-pip-1.0.5-py3-none-any.whl<br>Processing c:\\workspace\\demo-pip\\dist\\demo-pip-1.0.5-py3-none-any.whl<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.4<br>    Uninstalling demo-pip-1.0.4:<br>      Successfully uninstalled demo-pip-1.0.4<br>Successfully installed demo-pip-1.0.5<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> –upgrade demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Requirement already up-to-date: demo-pip in c:\\program files\\python38\\lib\\site-packages (1.0.5)</td>\n<td>install with <code>--upgrade</code> option failed when the installed version number is less than the current version number</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1.rebuild and install demo-pip-1.0.3<br>2.install from PyPI again with <code>--upgrade</code> option</td>\n<td>C:\\workspace\\demo-pip&gt;pip install dist\\demo-pip-1.0.3-py3-none-any.whl<br>Processing c:\\workspace\\demo-pip\\dist\\demo-pip-1.0.3-py3-none-any.whl<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.5<br>    Uninstalling demo-pip-1.0.5:<br>      Successfully uninstalled demo-pip-1.0.5<br>Successfully installed demo-pip-1.0.3<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> –upgrade demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Collecting demo-pip<br>  Downloading <a href=\"https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl\">https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl</a> (51 kB)<br>     |████████████████████████████████| 51 kB 362 kB&#x2F;s<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.3<br>    Uninstalling demo-pip-1.0.3:<br>      Successfully uninstalled demo-pip-1.0.3<br>Successfully installed demo-pip-1.0.4</td>\n<td>install with <code>--upgrade</code> option success from PyPI when install version number is larger than the current version number</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1. create a new build demo-pip-1.0.3.1000<br>2. install demo-pip-1.0.3.1000 with <code>--upgrade</code> option<br>3. install demo-pip-1.0.3.1000, without <code>--upgrade</code> option</td>\n<td>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> –upgrade demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Collecting demo-pip<br>  Downloading <a href=\"https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl\">https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl</a> (51 kB)<br>     |████████████████████████████████| 51 kB 83 kB&#x2F;s<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.3.1000<br>    Uninstalling demo-pip-1.0.3.1000:<br>      Successfully uninstalled demo-pip-1.0.3.1000<br>Successfully installed demo-pip-1.0.4<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Requirement already satisfied: demo-pip in c:\\program files\\python38\\lib\\site-packages (1.0.3.1000)</td>\n<td>1. install with <code>--upgrade</code> option success<br> 2. install without <code>--upgrade</code> option failed</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1. create a new build demo-pip-1.0.4.1000<br>2. install demo-pip-1.0.4.1000 with <code>--upgrade</code> option.<br>3. install specific version of demo-pip</td>\n<td>C:\\workspace\\demo-pip&gt;pip install dist\\demo-pip-1.0.4.1000-py3-none-any.whl<br>Processing c:\\workspace\\demo-pip\\dist\\demo-pip-1.0.4.1000-py3-none-any.whl<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.4<br>    Uninstalling demo-pip-1.0.4:<br>      Successfully uninstalled demo-pip-1.0.4<br>Successfully installed demo-pip-1.0.4.1000<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> –upgrade demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Requirement already up-to-date: demo-pip in c:\\program files\\python38\\lib\\site-packages (1.0.4.1000)<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a>  demo-pip&#x3D;&#x3D;1.0.4<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Collecting demo-pip&#x3D;&#x3D;1.0.4<br>  Downloading <a href=\"https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl\">https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl</a> (51 kB)<br>     |████████████████████████████████| 51 kB 362 kB&#x2F;s<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0.4.1000<br>    Uninstalling demo-pip-1.0.4.1000:<br>      Successfully uninstalled demo-pip-1.0.4.1000<br>Successfully installed demo-pip-1.0</td>\n<td>Install failed when the install version number is less than the currently installed version number<br> <br>if install a specific version of demo-pip with <code>--upgrade</code> option or not. will both works.</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1. Follow up python official version naming for beta-version, create a new build demo-pip-1.0.b1<br>2. install from PyPi without <code>--upgrade</code> option<br>3. install from PyPi with <code>--upgrade</code> option</td>\n<td>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Requirement already satisfied: demo-pip in c:\\program files\\python38\\lib\\site-packages (1.0b1)<br> <br>C:\\workspace\\demo-pip&gt;pip install -i <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a> –upgrade demo-pip<br>Looking in indexes: <a href=\"https://test.pypi.org/simple/\">https://test.pypi.org/simple/</a><br>Collecting demo-pip<br>  Downloading <a href=\"https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl\">https://test-files.pythonhosted.org/packages/41/c5/fe16fdc482927b2831c36f96d6e5a1c5b7a2a676ddc4c00c67a9ccf644e9/demo-pip-1.0.4-py3-none-any.whl</a> (51 kB)<br>     |████████████████████████████████| 51 kB 362 kB&#x2F;s<br>Installing collected packages: demo-pip<br>  Attempting uninstall: demo-pip<br>    Found existing installation: demo-pip 1.0b1<br>    Uninstalling demo-pip-1.0b1:<br>      Successfully uninstalled demo-pip-1.0b1<br>Successfully installed demo-pip-1.0.4</td>\n<td>install successful with <code>--upgrade</code> option<br>so it means 1.0.b1 version number is less than 1.0.4 version</td>\n</tr>\n</tbody></table>","categories":[{"name":"Language","path":"api/categories/Language.json"}],"tags":[{"name":"Python","path":"api/tags/Python.json"},{"name":"Pip","path":"api/tags/Pip.json"}]}