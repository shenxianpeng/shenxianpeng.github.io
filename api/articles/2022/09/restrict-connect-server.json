{"title":"Restrict others from login your important Linux machine","slug":"2022/09/restrict-connect-server","date":"2022-09-16T02:13:08.000Z","updated":"2024-02-17T15:57:35.176Z","comments":true,"path":"api/articles/2022/09/restrict-connect-server.json","excerpt":"If you have a critical machine like your team’s CI server that runs on Linux, so you don’t want every members in your group to access it.Modifying this setting /etc/security/access.conf on Linux can do it.How to setupI commented out the access settings for TEAM A, and add some user accounts can access.#+ : (SRV_WW_TEAM_A_CompAdmin) : ALL<br>+ : shenx, map, xiar : ALL<br>","covers":null,"content":"<p>If you have a critical machine like your team’s CI server that runs on Linux, so you don’t want every members in your group to access it.</p>\n<p>Modifying this setting <code>/etc/security/access.conf</code> on Linux can do it.</p>\n<h2 id=\"How-to-setup\"><a href=\"#How-to-setup\" class=\"headerlink\" title=\"How to setup\"></a>How to setup</h2><p>I commented out the access settings for TEAM A, and add some user accounts can access.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#+ : (SRV_WW_TEAM_A_CompAdmin) : ALL</span></span><br><span class=\"line\">+ : shenx, map, xiar : ALL</span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<p><strong>Be careful not to restrict everyone including yourself.</strong></p>\n<p>It would be best to allow several people can also access it to prevent any issues to log in with your account or you leave the organization.</p>\n<h2 id=\"Let’s-test\"><a href=\"#Let’s-test\" class=\"headerlink\" title=\"Let’s test\"></a>Let’s test</h2><p>Then when I try to use another account not in the list to access this machine and the connection shows closed.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ ssh <span class=\"built_in\">test</span>@devciserver.organization.com</span><br><span class=\"line\"><span class=\"built_in\">test</span>@devciserver.organization.com<span class=\"string\">&#x27;s password:</span></span><br><span class=\"line\"><span class=\"string\">Connection closed by 10.84.17.119 port 22</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<p>转载本站文章请注明作者和出处，请勿用于任何商业用途。欢迎关注公众号「DevOps攻城狮」</p>\n","more":"<p><strong>Be careful not to restrict everyone including yourself.</strong></p>\n<p>It would be best to allow several people can also access it to prevent any issues to log in with your account or you leave the organization.</p>\n<h2 id=\"Let’s-test\"><a href=\"#Let’s-test\" class=\"headerlink\" title=\"Let’s test\"></a>Let’s test</h2><p>Then when I try to use another account not in the list to access this machine and the connection shows closed.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ ssh <span class=\"built_in\">test</span>@devciserver.organization.com</span><br><span class=\"line\"><span class=\"built_in\">test</span>@devciserver.organization.com<span class=\"string\">&#x27;s password:</span></span><br><span class=\"line\"><span class=\"string\">Connection closed by 10.84.17.119 port 22</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<p>转载本站文章请注明作者和出处，请勿用于任何商业用途。欢迎关注公众号「DevOps攻城狮」</p>","categories":[{"name":"OS","path":"api/categories/OS.json"}],"tags":[{"name":"Linux","path":"api/tags/Linux.json"}]}