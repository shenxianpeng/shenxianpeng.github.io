{"title":"How to enable, configure and disable Jenkins LDAP","slug":"2022/03/jenkins-ldap-configuration","date":"2022-03-15T05:54:43.000Z","updated":"2023-04-11T14:21:02.626Z","comments":true,"path":"api/articles/2022/03/jenkins-ldap-configuration.json","excerpt":"IntroductionIn organizations, using LDAP login very common way for users to log in with their credentials.How to configure LDAPPreparation: Installed LDAP Jenkins plugin [Figure] About how to configure it, you can refer to Jenkins LDAP Plugin documentation https://plugins.jenkins.io/ldap/This is my LDAP configuration just for testing.","covers":["/2022/03/jenkins-ldap-configuration/ldap-plugin.png","/2022/03/jenkins-ldap-configuration/ldap-configure1.png","/2022/03/jenkins-ldap-configuration/ldap-configure2.png"],"content":"<h2 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction\"></a>Introduction</h2><p>In organizations, using LDAP login very common way for users to log in with their credentials.</p>\n<h2 id=\"How-to-configure-LDAP\"><a href=\"#How-to-configure-LDAP\" class=\"headerlink\" title=\"How to configure LDAP\"></a>How to configure LDAP</h2><p>Preparation: Installed LDAP Jenkins plugin</p>\n<p><img src=\"/2022/03/jenkins-ldap-configuration/ldap-plugin.png\" alt=\"LDAP plugin\"></p>\n<p>About how to configure it, you can refer to Jenkins LDAP Plugin documentation <a href=\"https://plugins.jenkins.io/ldap/\">https://plugins.jenkins.io/ldap/</a></p>\n<p>This is my LDAP configuration just for testing.</p>\n<span id=\"more\"></span>\n\n<p><img src=\"/2022/03/jenkins-ldap-configuration/ldap-configure1.png\" alt=\"LDAP configure1\"></p>\n<p><img src=\"/2022/03/jenkins-ldap-configuration/ldap-configure2.png\" alt=\"LDAP configure2\"></p>\n<h2 id=\"Can-not-login-with-LDAP\"><a href=\"#Can-not-login-with-LDAP\" class=\"headerlink\" title=\"Can not login with LDAP?\"></a>Can not login with LDAP?</h2><p>Sometimes, for some reason, there is a problem with your organization’s LDAP server and you can’t log in to Jenkins using LDAP, but you need to use Jenkins now.</p>\n<p>You can disable LDAP authentication by changing <code>config.xml</code>.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Login, cd to jenkins server folder</span></span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> /var/lib/jenkins/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Highly rememend you to backup config.xml before making any change !!!</span></span><br><span class=\"line\"><span class=\"comment\"># If you don&#x27;t backup config.xml, you&#x27;ll lost your LDAP configration after reboot service.</span></span><br><span class=\"line\">$ <span class=\"built_in\">cp</span> config.xml config.xml.bak</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Modify config.xml from</span></span><br><span class=\"line\">&lt;useSecurity&gt;<span class=\"literal\">true</span>&lt;/useSecurity&gt;</span><br><span class=\"line\"><span class=\"comment\"># To</span></span><br><span class=\"line\">&lt;useSecurity&gt;<span class=\"literal\">false</span>&lt;/useSecurity&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Restart Jenkins server</span></span><br><span class=\"line\">sudo service jenkins restart</span><br></pre></td></tr></table></figure>\n\n<p>Then you can log into the Jenkins server again.</p>\n<p>Once your organization’s LDAP works again, you can replace <code>config.xml</code> with your backup config.xml file. Then your users can continue to log in via LDAP.</p>\n","more":"<p><img src=\"/2022/03/jenkins-ldap-configuration/ldap-configure1.png\" alt=\"LDAP configure1\"></p>\n<p><img src=\"/2022/03/jenkins-ldap-configuration/ldap-configure2.png\" alt=\"LDAP configure2\"></p>\n<h2 id=\"Can-not-login-with-LDAP\"><a href=\"#Can-not-login-with-LDAP\" class=\"headerlink\" title=\"Can not login with LDAP?\"></a>Can not login with LDAP?</h2><p>Sometimes, for some reason, there is a problem with your organization’s LDAP server and you can’t log in to Jenkins using LDAP, but you need to use Jenkins now.</p>\n<p>You can disable LDAP authentication by changing <code>config.xml</code>.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Login, cd to jenkins server folder</span></span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> /var/lib/jenkins/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Highly rememend you to backup config.xml before making any change !!!</span></span><br><span class=\"line\"><span class=\"comment\"># If you don&#x27;t backup config.xml, you&#x27;ll lost your LDAP configration after reboot service.</span></span><br><span class=\"line\">$ <span class=\"built_in\">cp</span> config.xml config.xml.bak</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Modify config.xml from</span></span><br><span class=\"line\">&lt;useSecurity&gt;<span class=\"literal\">true</span>&lt;/useSecurity&gt;</span><br><span class=\"line\"><span class=\"comment\"># To</span></span><br><span class=\"line\">&lt;useSecurity&gt;<span class=\"literal\">false</span>&lt;/useSecurity&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Restart Jenkins server</span></span><br><span class=\"line\">sudo service jenkins restart</span><br></pre></td></tr></table></figure>\n\n<p>Then you can log into the Jenkins server again.</p>\n<p>Once your organization’s LDAP works again, you can replace <code>config.xml</code> with your backup config.xml file. Then your users can continue to log in via LDAP.</p>","categories":[{"name":"HowTo","path":"api/categories/HowTo.json"}],"tags":[{"name":"Jenkins","path":"api/tags/Jenkins.json"},{"name":"LDAP","path":"api/tags/LDAP.json"}]}