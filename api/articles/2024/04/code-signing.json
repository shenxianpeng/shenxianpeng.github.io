{"title":"代码签名（Code Signing）","slug":"2024/04/code-signing","date":"2024-04-29T12:34:18.000Z","updated":"2024-10-25T19:24:42.205Z","comments":true,"path":"api/articles/2024/04/code-signing.json","excerpt":null,"covers":null,"content":"<p>当谈到软件开发和安全性时，Code Signing（代码签名）是一个至关重要的概念。在这篇文章中，我们将探讨什么是代码签名，为什么它重要，以及两个代码签名工具的对比。</p>\n<h2 id=\"什么是代码签名？\"><a href=\"#什么是代码签名？\" class=\"headerlink\" title=\"什么是代码签名？\"></a>什么是代码签名？</h2><p>代码签名是一种数字签名技术，用于验证软件或代码的真实性和完整性。它通过使用加密技术，为软件文件附加一个数字签名，证明该文件是由特定的开发者创建并未被篡改过。</p>\n<p>代码签名的过程通常涉及以下步骤：</p>\n<ol>\n<li><strong>生成数字证书</strong>：开发者使用数字证书来创建数字签名。证书通常由可信任的第三方证书颁发机构（CA）签发。</li>\n<li><strong>对软件进行签名</strong>：开发者使用专门的工具，如 Microsoft 的 SignTool 或 Apple 的 codesign 工具，对软件进行数字签名。</li>\n<li><strong>分发已签名的软件</strong>：带有数字签名的软件可以被分发到用户设备上。</li>\n</ol>\n<h2 id=\"为什么代码签名重要？\"><a href=\"#为什么代码签名重要？\" class=\"headerlink\" title=\"为什么代码签名重要？\"></a>为什么代码签名重要？</h2><p>代码签名的重要性体现在以下几个方面：</p>\n<ol>\n<li><p><strong>完整性验证</strong>：代码签名可以确保软件在分发过程中未被篡改。用户可以通过验证签名来确认软件的完整性，确保软件来自可信任的来源。</p>\n</li>\n<li><p><strong>身份验证</strong>：签名附带的数字证书可以用来验证软件的发布者身份。用户可以查看证书，了解软件的制造商，并评估其可信度。</p>\n</li>\n<li><p><strong>安全性增强</strong>：通过数字签名，可以防止恶意软件插入合法软件包中，确保用户下载的软件是安全可靠的。</p>\n</li>\n<li><p><strong>操作系统信任</strong>：大多数操作系统和应用商店要求开发者对软件进行代码签名才能发布。没有签名的软件可能会被视为不安全或不可信。</p>\n</li>\n</ol>\n<h2 id=\"代码签名工具\"><a href=\"#代码签名工具\" class=\"headerlink\" title=\"代码签名工具\"></a>代码签名工具</h2><p>我在工作中主要接触到两个 Code signing 工具，分别是代码签名证书<a href=\"https://www.thawte.com/code-signing/\">Code Signing Certificates</a> 和 <a href=\"https://garantir.io/use-cases/code-signing/\">GaraSign</a>，它们是比较有代表性的两类工具。</p>\n<p>这里简单介绍一下代码签名证书与 GaraSign 的区别：</p>\n<p><strong>代码签名证书</strong> 和 <strong>GaraSign</strong> 都是用于验证软件完整性和来源的解决方案，但它们在工作方式和功能方面存在一些关键差异。</p>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>代码签名证书</th>\n<th>GaraSign</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>颁发者</strong></td>\n<td>受信的证书颁发机构 (CA)</td>\n<td>GaraSign</td>\n</tr>\n<tr>\n<td><strong>形式</strong></td>\n<td>数字证书</td>\n<td>云服务</td>\n</tr>\n<tr>\n<td><strong>验证方法</strong></td>\n<td>加密哈希</td>\n<td>加密哈希</td>\n</tr>\n<tr>\n<td><strong>功能</strong></td>\n<td>验证软件完整性、确保软件未被篡改</td>\n<td>验证软件完整性、确保软件未被篡改、提供集中式管理、支持审计和合规性</td>\n</tr>\n<tr>\n<td><strong>成本</strong></td>\n<td>每年 100 美元到数千美元不等</td>\n<td>按使用付费</td>\n</tr>\n<tr>\n<td><strong>管理</strong></td>\n<td>需要购买和管理证书</td>\n<td>无需管理证书</td>\n</tr>\n<tr>\n<td><strong>可扩展性</strong></td>\n<td>适用于需要签署大量软件的组织</td>\n<td>适用于任何规模的组织</td>\n</tr>\n</tbody></table>\n<p><strong>总的来说，代码签名证书和 GaraSign 都是有效的解决方案，可用于验证软件完整性和来源。</strong> 最适合你的选择将取决于你的特定需求和预算。以下是一些需要考虑的因素：</p>\n<ul>\n<li><strong>成本：</strong> 如果你需要签署大量软件，GaraSign 可能更具成本效益。</li>\n<li><strong>可扩展性：</strong> 如果你需要签署大量软件，GaraSign 可能是更好的选择。</li>\n<li><strong>审计和合规性：</strong> 如果你需要满足严格的审计和合规性要求，GaraSign 可能是更好的选择。</li>\n<li><strong>易用性</strong>：从我目前使用体感来说代码签名证书更容易设置和使用。GaraSign 则需要搭建服务和安装、配置客户端，非常繁琐[^1]。</li>\n</ul>\n<p>[^1]: 目前我还在初步使用 GaraSign 后续如果有必要，我会单独写一些篇关于它的使用体验文章。</p>\n<p>其他签名工具还包括微软的 <a href=\"https://learn.microsoft.com/zh-cn/dotnet/framework/tools/signtool-exe\">SignTool.exe</a>，<a href=\"https://docs.docker.com/reference/cli/docker/trust/sign/\">Docker trust sign</a>等，这里就不一一介绍了。</p>\n<h2 id=\"结论\"><a href=\"#结论\" class=\"headerlink\" title=\"结论\"></a>结论</h2><p>通过代码签名，开发者可以增加软件的安全性和可信度，同时帮助用户避免恶意软件和篡改的风险。<br>在今天的数字化环境中，代码签名是保障软件完整性和安全性的重要一环，提高软件供应链安全。</p>\n<p>更过关于软件供应链安全内容可以参考这<a href=\"https://shenxianpeng.github.io/tags/slsa/\">一系列文章</a>。</p>\n<hr>\n<p>转载本站文章请注明作者和出处，请勿用于任何商业用途。欢迎关注公众号「DevOps攻城狮」</p>\n","more":"<p>当谈到软件开发和安全性时，Code Signing（代码签名）是一个至关重要的概念。在这篇文章中，我们将探讨什么是代码签名，为什么它重要，以及两个代码签名工具的对比。</p>\n<h2 id=\"什么是代码签名？\"><a href=\"#什么是代码签名？\" class=\"headerlink\" title=\"什么是代码签名？\"></a>什么是代码签名？</h2><p>代码签名是一种数字签名技术，用于验证软件或代码的真实性和完整性。它通过使用加密技术，为软件文件附加一个数字签名，证明该文件是由特定的开发者创建并未被篡改过。</p>\n<p>代码签名的过程通常涉及以下步骤：</p>\n<ol>\n<li><strong>生成数字证书</strong>：开发者使用数字证书来创建数字签名。证书通常由可信任的第三方证书颁发机构（CA）签发。</li>\n<li><strong>对软件进行签名</strong>：开发者使用专门的工具，如 Microsoft 的 SignTool 或 Apple 的 codesign 工具，对软件进行数字签名。</li>\n<li><strong>分发已签名的软件</strong>：带有数字签名的软件可以被分发到用户设备上。</li>\n</ol>\n<h2 id=\"为什么代码签名重要？\"><a href=\"#为什么代码签名重要？\" class=\"headerlink\" title=\"为什么代码签名重要？\"></a>为什么代码签名重要？</h2><p>代码签名的重要性体现在以下几个方面：</p>\n<ol>\n<li><p><strong>完整性验证</strong>：代码签名可以确保软件在分发过程中未被篡改。用户可以通过验证签名来确认软件的完整性，确保软件来自可信任的来源。</p>\n</li>\n<li><p><strong>身份验证</strong>：签名附带的数字证书可以用来验证软件的发布者身份。用户可以查看证书，了解软件的制造商，并评估其可信度。</p>\n</li>\n<li><p><strong>安全性增强</strong>：通过数字签名，可以防止恶意软件插入合法软件包中，确保用户下载的软件是安全可靠的。</p>\n</li>\n<li><p><strong>操作系统信任</strong>：大多数操作系统和应用商店要求开发者对软件进行代码签名才能发布。没有签名的软件可能会被视为不安全或不可信。</p>\n</li>\n</ol>\n<h2 id=\"代码签名工具\"><a href=\"#代码签名工具\" class=\"headerlink\" title=\"代码签名工具\"></a>代码签名工具</h2><p>我在工作中主要接触到两个 Code signing 工具，分别是代码签名证书<a href=\"https://www.thawte.com/code-signing/\">Code Signing Certificates</a> 和 <a href=\"https://garantir.io/use-cases/code-signing/\">GaraSign</a>，它们是比较有代表性的两类工具。</p>\n<p>这里简单介绍一下代码签名证书与 GaraSign 的区别：</p>\n<p><strong>代码签名证书</strong> 和 <strong>GaraSign</strong> 都是用于验证软件完整性和来源的解决方案，但它们在工作方式和功能方面存在一些关键差异。</p>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>代码签名证书</th>\n<th>GaraSign</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>颁发者</strong></td>\n<td>受信的证书颁发机构 (CA)</td>\n<td>GaraSign</td>\n</tr>\n<tr>\n<td><strong>形式</strong></td>\n<td>数字证书</td>\n<td>云服务</td>\n</tr>\n<tr>\n<td><strong>验证方法</strong></td>\n<td>加密哈希</td>\n<td>加密哈希</td>\n</tr>\n<tr>\n<td><strong>功能</strong></td>\n<td>验证软件完整性、确保软件未被篡改</td>\n<td>验证软件完整性、确保软件未被篡改、提供集中式管理、支持审计和合规性</td>\n</tr>\n<tr>\n<td><strong>成本</strong></td>\n<td>每年 100 美元到数千美元不等</td>\n<td>按使用付费</td>\n</tr>\n<tr>\n<td><strong>管理</strong></td>\n<td>需要购买和管理证书</td>\n<td>无需管理证书</td>\n</tr>\n<tr>\n<td><strong>可扩展性</strong></td>\n<td>适用于需要签署大量软件的组织</td>\n<td>适用于任何规模的组织</td>\n</tr>\n</tbody></table>\n<p><strong>总的来说，代码签名证书和 GaraSign 都是有效的解决方案，可用于验证软件完整性和来源。</strong> 最适合你的选择将取决于你的特定需求和预算。以下是一些需要考虑的因素：</p>\n<ul>\n<li><strong>成本：</strong> 如果你需要签署大量软件，GaraSign 可能更具成本效益。</li>\n<li><strong>可扩展性：</strong> 如果你需要签署大量软件，GaraSign 可能是更好的选择。</li>\n<li><strong>审计和合规性：</strong> 如果你需要满足严格的审计和合规性要求，GaraSign 可能是更好的选择。</li>\n<li><strong>易用性</strong>：从我目前使用体感来说代码签名证书更容易设置和使用。GaraSign 则需要搭建服务和安装、配置客户端，非常繁琐[^1]。</li>\n</ul>\n<p>[^1]: 目前我还在初步使用 GaraSign 后续如果有必要，我会单独写一些篇关于它的使用体验文章。</p>\n<p>其他签名工具还包括微软的 <a href=\"https://learn.microsoft.com/zh-cn/dotnet/framework/tools/signtool-exe\">SignTool.exe</a>，<a href=\"https://docs.docker.com/reference/cli/docker/trust/sign/\">Docker trust sign</a>等，这里就不一一介绍了。</p>\n<h2 id=\"结论\"><a href=\"#结论\" class=\"headerlink\" title=\"结论\"></a>结论</h2><p>通过代码签名，开发者可以增加软件的安全性和可信度，同时帮助用户避免恶意软件和篡改的风险。<br>在今天的数字化环境中，代码签名是保障软件完整性和安全性的重要一环，提高软件供应链安全。</p>\n<p>更过关于软件供应链安全内容可以参考这<a href=\"https://shenxianpeng.github.io/tags/slsa/\">一系列文章</a>。</p>\n<hr>\n<p>转载本站文章请注明作者和出处，请勿用于任何商业用途。欢迎关注公众号「DevOps攻城狮」</p>\n","categories":[{"name":"DevSecOps","path":"api/categories/DevSecOps.json"}],"tags":[{"name":"DevSecOps","path":"api/tags/DevSecOps.json"},{"name":"SLSA","path":"api/tags/SLSA.json"}]}