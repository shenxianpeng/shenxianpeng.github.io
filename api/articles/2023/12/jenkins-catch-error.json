{"title":"How to make Jenkins pipeline not fail if a specific error occurs","slug":"2023/12/jenkins-catch-error","date":"2023-12-15T10:25:39.000Z","updated":"2025-06-22T16:34:48.681Z","comments":true,"path":"api/articles/2023/12/jenkins-catch-error.json","excerpt":"Sometimes you don’t want Jenkins pipeline failed for a specific error occurs. so you can use catchError to catch error and update stage or build result to SUCCESSFUL or UNSTABLE or FAILURE (if you want) [Figure] ","covers":["/2023/12/jenkins-catch-error/catch-error.png"],"content":"<p>Sometimes you don’t want Jenkins pipeline failed for a specific error occurs. so you can use <code>catchError</code> to catch error and update stage or build result to <code>SUCCESSFUL</code> or <code>UNSTABLE</code> or <code>FAILURE</code> (if you want)</p>\n<p><img src=\"/2023/12/jenkins-catch-error/catch-error.png\" alt=\"Catch Error Jenkins pipeline\"></p>\n<span id=\"more\"></span>\n<p>Here is the Jenkinsfile of pipeline</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">pipeline &#123;</span><br><span class=\"line\">    agent &#123; node &#123; label &#x27;linux&#x27; &#125; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    stages &#123;</span><br><span class=\"line\">        stage(&#x27;Catch Error&#x27;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                catchError(buildResult: &#x27;UNSTABLE&#x27;, stageResult: &#x27;UNSTABLE&#x27;, message: &#x27;abc: command not found&#x27;) &#123;</span><br><span class=\"line\">                    sh &quot;abc&quot;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Here is the output of pipeline</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">17:14:07  [Pipeline] Start of Pipeline</span><br><span class=\"line\">17:14:08  [Pipeline] node</span><br><span class=\"line\">17:14:08  Running on linux <span class=\"keyword\">in</span> /agent/workspace/Stage-Job/catch-error</span><br><span class=\"line\">17:14:08  [Pipeline] &#123;</span><br><span class=\"line\">17:14:08  [Pipeline] stage</span><br><span class=\"line\">17:14:08  [Pipeline] &#123; (Catch Error)</span><br><span class=\"line\">17:14:08  [Pipeline] catchError</span><br><span class=\"line\">17:14:08  [Pipeline] &#123;</span><br><span class=\"line\">17:14:08  [Pipeline] sh</span><br><span class=\"line\">17:14:08  + abc</span><br><span class=\"line\">17:14:08  /agent/workspace/Stage-Job/catch-error@tmp/durable-303b03ca/script.sh: line 1: abc: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">17:14:08  [Pipeline] &#125;</span><br><span class=\"line\">17:14:08  ERROR: abc: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">17:14:08  ERROR: script returned <span class=\"built_in\">exit</span> code 127</span><br><span class=\"line\">17:14:08  [Pipeline] // catchError</span><br><span class=\"line\">17:14:08  [Pipeline] &#125;</span><br><span class=\"line\">17:14:08  [Pipeline] // stage</span><br><span class=\"line\">17:14:08  [Pipeline] &#125;</span><br><span class=\"line\">17:14:08  [Pipeline] // node</span><br><span class=\"line\">17:14:08  [Pipeline] End of Pipeline</span><br><span class=\"line\">17:14:08  Finished: UNSTABLE</span><br></pre></td></tr></table></figure>\n<hr>\n<p>转载本站文章请注明作者和出处，请勿用于任何商业用途。欢迎关注公众号「DevOps攻城狮」</p>\n","more":"<p>Here is the Jenkinsfile of pipeline</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">pipeline &#123;</span><br><span class=\"line\">    agent &#123; node &#123; label &#x27;linux&#x27; &#125; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    stages &#123;</span><br><span class=\"line\">        stage(&#x27;Catch Error&#x27;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                catchError(buildResult: &#x27;UNSTABLE&#x27;, stageResult: &#x27;UNSTABLE&#x27;, message: &#x27;abc: command not found&#x27;) &#123;</span><br><span class=\"line\">                    sh &quot;abc&quot;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Here is the output of pipeline</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">17:14:07  [Pipeline] Start of Pipeline</span><br><span class=\"line\">17:14:08  [Pipeline] node</span><br><span class=\"line\">17:14:08  Running on linux <span class=\"keyword\">in</span> /agent/workspace/Stage-Job/catch-error</span><br><span class=\"line\">17:14:08  [Pipeline] &#123;</span><br><span class=\"line\">17:14:08  [Pipeline] stage</span><br><span class=\"line\">17:14:08  [Pipeline] &#123; (Catch Error)</span><br><span class=\"line\">17:14:08  [Pipeline] catchError</span><br><span class=\"line\">17:14:08  [Pipeline] &#123;</span><br><span class=\"line\">17:14:08  [Pipeline] sh</span><br><span class=\"line\">17:14:08  + abc</span><br><span class=\"line\">17:14:08  /agent/workspace/Stage-Job/catch-error@tmp/durable-303b03ca/script.sh: line 1: abc: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">17:14:08  [Pipeline] &#125;</span><br><span class=\"line\">17:14:08  ERROR: abc: <span class=\"built_in\">command</span> not found</span><br><span class=\"line\">17:14:08  ERROR: script returned <span class=\"built_in\">exit</span> code 127</span><br><span class=\"line\">17:14:08  [Pipeline] // catchError</span><br><span class=\"line\">17:14:08  [Pipeline] &#125;</span><br><span class=\"line\">17:14:08  [Pipeline] // stage</span><br><span class=\"line\">17:14:08  [Pipeline] &#125;</span><br><span class=\"line\">17:14:08  [Pipeline] // node</span><br><span class=\"line\">17:14:08  [Pipeline] End of Pipeline</span><br><span class=\"line\">17:14:08  Finished: UNSTABLE</span><br></pre></td></tr></table></figure>\n<hr>\n<p>转载本站文章请注明作者和出处，请勿用于任何商业用途。欢迎关注公众号「DevOps攻城狮」</p>","categories":[{"name":"Jenkins","path":"api/categories/Jenkins.json"}],"tags":[{"name":"Jenkins","path":"api/tags/Jenkins.json"}]}