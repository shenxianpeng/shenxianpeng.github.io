{"title":"Docker 常用命令","slug":"2019/12/docker-commands","date":"2019-12-02T06:30:41.000Z","updated":"2024-08-12T17:26:47.708Z","comments":true,"path":"api/articles/2019/12/docker-commands.json","excerpt":"Docker 常用命令小纸条Docker start|stop|restart# 查看 Docker 版本<br>docker -v # or docker --version<br># 重启 docker<br>sudo systemctl restart docker.service<br># 停止 docker<br>sudo systemctl stop docker.service<br># 启动 docker<br>sudo systemctl start docker.service<br>","covers":null,"content":"<blockquote>\n<p>Docker 常用命令小纸条</p>\n</blockquote>\n<h2 id=\"Docker-start-stop-restart\"><a href=\"#Docker-start-stop-restart\" class=\"headerlink\" title=\"Docker start|stop|restart\"></a>Docker start|stop|restart</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看 Docker 版本</span></span><br><span class=\"line\">docker -v <span class=\"comment\"># or docker --version</span></span><br><span class=\"line\"><span class=\"comment\"># 重启 docker</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart docker.service</span><br><span class=\"line\"><span class=\"comment\"># 停止 docker</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl stop docker.service</span><br><span class=\"line\"><span class=\"comment\"># 启动 docker</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start docker.service</span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<h2 id=\"Docker-run\"><a href=\"#Docker-run\" class=\"headerlink\" title=\"Docker run\"></a>Docker run</h2><p>我们通过 docker 的两个参数 -i -t，让 docker 运行的容器实现”对话”的能力：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker run -i -t ubuntu:15.10 /bin/bash</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Login-Artifactory\"><a href=\"#Login-Artifactory\" class=\"headerlink\" title=\"Login Artifactory\"></a>Login Artifactory</h2><p>注意：Open Source 版本 Artifactory 不支持 Docker，需要下载 <a href=\"https://jfrog.com/container-registry/\">JFrog Container Registry</a> 或是 Artifactory 企业版。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker login -u &lt;USER_NAME&gt; -p &lt;USER_PASSWORD&gt; devasvm.dev.org.com:&lt;REPOSITORY_PORT&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">-sh-4.2$ <span class=\"built_in\">sudo</span> docker login devasvm.dev.org.com:8040</span><br><span class=\"line\">Username: admin</span><br><span class=\"line\">Password:</span><br><span class=\"line\">WARNING! Your password will be stored unencrypted <span class=\"keyword\">in</span> /root/.docker/config.json.</span><br><span class=\"line\">Configure a credential helper to remove this warning. See</span><br><span class=\"line\">https://docs.docker.com/engine/reference/commandline/login/#credentials-store</span><br><span class=\"line\"></span><br><span class=\"line\">Login Succeeded</span><br></pre></td></tr></table></figure>\n\n<p>把 Docker image 推送到远程仓库</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">// docker tag SOURCE_IMAGE[:TAG] devasvm.dev.org.com:8040/docker-local/IMAGE[:TAG]</span><br><span class=\"line\">-sh-4.2$ <span class=\"built_in\">sudo</span> docker tag ubuntu:15.10 devasvm.dev.org.com:8040/docker-local/ubuntu:15.10</span><br><span class=\"line\"></span><br><span class=\"line\">// docker push devasvm.dev.org.com:8040/docker-local/IMAGE[:TAG]</span><br><span class=\"line\">-sh-4.2$ <span class=\"built_in\">sudo</span> docker push devasvm.dev.org.com:8040/docker-local/ubuntu:15.10</span><br><span class=\"line\">The push refers to repository [devasvm.dev.org.com:8040/docker-local/ubuntu]</span><br><span class=\"line\">98d59071f692: Pushed</span><br><span class=\"line\">af288f00b8a7: Pushed</span><br><span class=\"line\">4b955941a4d0: Pushed</span><br><span class=\"line\">f121afdbbd5d: Pushed</span><br><span class=\"line\">15.10: digest: sha256:a3f5e428c0cfbfd55cffb32d30b1d78fedb8a9faaf08efdd9c5208c94dc66614 size: 1150</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"TODO\"><a href=\"#TODO\" class=\"headerlink\" title=\"TODO\"></a>TODO</h2><p>更多 Docker 常用命令记录到这里。</p>\n","more":"<h2 id=\"Docker-run\"><a href=\"#Docker-run\" class=\"headerlink\" title=\"Docker run\"></a>Docker run</h2><p>我们通过 docker 的两个参数 -i -t，让 docker 运行的容器实现”对话”的能力：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker run -i -t ubuntu:15.10 /bin/bash</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Login-Artifactory\"><a href=\"#Login-Artifactory\" class=\"headerlink\" title=\"Login Artifactory\"></a>Login Artifactory</h2><p>注意：Open Source 版本 Artifactory 不支持 Docker，需要下载 <a href=\"https://jfrog.com/container-registry/\">JFrog Container Registry</a> 或是 Artifactory 企业版。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker login -u &lt;USER_NAME&gt; -p &lt;USER_PASSWORD&gt; devasvm.dev.org.com:&lt;REPOSITORY_PORT&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">-sh-4.2$ <span class=\"built_in\">sudo</span> docker login devasvm.dev.org.com:8040</span><br><span class=\"line\">Username: admin</span><br><span class=\"line\">Password:</span><br><span class=\"line\">WARNING! Your password will be stored unencrypted <span class=\"keyword\">in</span> /root/.docker/config.json.</span><br><span class=\"line\">Configure a credential helper to remove this warning. See</span><br><span class=\"line\">https://docs.docker.com/engine/reference/commandline/login/#credentials-store</span><br><span class=\"line\"></span><br><span class=\"line\">Login Succeeded</span><br></pre></td></tr></table></figure>\n\n<p>把 Docker image 推送到远程仓库</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">// docker tag SOURCE_IMAGE[:TAG] devasvm.dev.org.com:8040/docker-local/IMAGE[:TAG]</span><br><span class=\"line\">-sh-4.2$ <span class=\"built_in\">sudo</span> docker tag ubuntu:15.10 devasvm.dev.org.com:8040/docker-local/ubuntu:15.10</span><br><span class=\"line\"></span><br><span class=\"line\">// docker push devasvm.dev.org.com:8040/docker-local/IMAGE[:TAG]</span><br><span class=\"line\">-sh-4.2$ <span class=\"built_in\">sudo</span> docker push devasvm.dev.org.com:8040/docker-local/ubuntu:15.10</span><br><span class=\"line\">The push refers to repository [devasvm.dev.org.com:8040/docker-local/ubuntu]</span><br><span class=\"line\">98d59071f692: Pushed</span><br><span class=\"line\">af288f00b8a7: Pushed</span><br><span class=\"line\">4b955941a4d0: Pushed</span><br><span class=\"line\">f121afdbbd5d: Pushed</span><br><span class=\"line\">15.10: digest: sha256:a3f5e428c0cfbfd55cffb32d30b1d78fedb8a9faaf08efdd9c5208c94dc66614 size: 1150</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"TODO\"><a href=\"#TODO\" class=\"headerlink\" title=\"TODO\"></a>TODO</h2><p>更多 Docker 常用命令记录到这里。</p>","categories":[{"name":"Docker","path":"api/categories/Docker.json"}],"tags":[{"name":"DevOps","path":"api/tags/DevOps.json"},{"name":"Docker","path":"api/tags/Docker.json"}]}