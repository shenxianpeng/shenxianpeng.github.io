{"title":"Git Commit Squash","slug":"2019/08/git-commit-squash","date":"2019-08-20T04:21:43.000Z","updated":"2024-08-13T07:48:16.339Z","comments":true,"path":"api/articles/2019/08/git-commit-squash.json","excerpt":null,"covers":["/2019/08/git-commit-squash/example-01.png","/2019/08/git-commit-squash/example-02.png","/2019/08/git-commit-squash/example-03.png","/2019/08/git-commit-squash/example-04.png","/2019/08/git-commit-squash/example-05.png","/2019/08/git-commit-squash/example-06.png","/2019/08/git-commit-squash/example-07.png","/2019/08/git-commit-squash/example-08.png","/2019/08/git-commit-squash/example-09.png"],"content":"<h2 id=\"If-your-commits-on-local-not-pushed-to-remote\"><a href=\"#If-your-commits-on-local-not-pushed-to-remote\" class=\"headerlink\" title=\"If your commits on local not pushed to remote\"></a>If your commits on local not pushed to remote</h2><h3 id=\"combine-local-commits-you-could-follow-this-flow\"><a href=\"#combine-local-commits-you-could-follow-this-flow\" class=\"headerlink\" title=\"combine local commits, you could follow this flow\"></a>combine local commits, you could follow this flow</h3><p>Here is <a href=\"https://www.youtube.com/watch?v=V5KrD7CmO4o\">short video</a> (only 3 minutes) and good explanation of <code>git rebase -i</code> usage.</p>\n<p>list your local repository log</p>\n<p><img src=\"/2019/08/git-commit-squash/example-01.png\" alt=\"list your logs in oneline\"></p>\n<p>If you want to combine these 3 commits (add6152, 3650100, 396a652) to 1 commit, execute this command</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git rebase -i HEAD~3      <span class=\"comment\"># last three commits</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2019/08/git-commit-squash/example-02.png\" alt=\"list last three commits\"></p>\n<p>Select which commit you want to squash (type s or squash are OK)</p>\n<p><img src=\"/2019/08/git-commit-squash/example-03.png\" alt=\"combine three commits to one\"></p>\n<p>then press ESC, enter :wq! to save and exit.</p>\n<p><img src=\"/2019/08/git-commit-squash/example-04.png\" alt=\"comment out some commits message you don&#39;t need\"></p>\n<p>Comment out some commits message you don’t need, press ESC, enter :wq! to save and exit.</p>\n<p><img src=\"/2019/08/git-commit-squash/example-05.png\" alt=\"comment out some commits message you don&#39;t need\"></p>\n<p>Check log, you will see your local repository logs has combine to one commit</p>\n<p><img src=\"/2019/08/git-commit-squash/example-06.png\" alt=\"comment out some commits message you don&#39;t need\"></p>\n<h2 id=\"If-your-commits-had-pushed-to-remote\"><a href=\"#If-your-commits-had-pushed-to-remote\" class=\"headerlink\" title=\"If your commits had pushed to remote\"></a>If your commits had pushed to remote</h2><h3 id=\"combine-remote-commits-you-could-follow-this-flow\"><a href=\"#combine-remote-commits-you-could-follow-this-flow\" class=\"headerlink\" title=\"combine remote commits, you could follow this flow\"></a>combine remote commits, you could follow this flow</h3><p>list your repository logs</p>\n<p><img src=\"/2019/08/git-commit-squash/example-07.png\" alt=\"list your logs in oneline\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># so you can create another branch from bugfix/UNV-1234 named bugfix/UNV-1234-for-squash</span></span><br><span class=\"line\">xshen@dln-l-xs01 MINGW64 /c/U2GitCode/git-test (bugfix/UNV-1234)</span><br><span class=\"line\">$ git checkout -b bugfix/UNV-1234-for-squash</span><br><span class=\"line\">Switched to a new branch <span class=\"string\">&#x27;bugfix/UNV-1234-for-squash&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># combine last 2 commits</span></span><br><span class=\"line\">$ git rebase -i HEAD~2</span><br></pre></td></tr></table></figure>\n\n<p>change one commit from pick to squash, see the screenshot below. press ESC, enter :wq! to save and exit.</p>\n<p><img src=\"/2019/08/git-commit-squash/example-08.png\" alt=\"select a commit you want to squash\"></p>\n<p>change commit message, for example “UNV-1234 combine all commit to one commit”, then press ESC, enter :wq! to save and exit.</p>\n<p><img src=\"/2019/08/git-commit-squash/example-09.png\" alt=\"comment out commit message you don&#39;t want to display\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># push your new create branch to remote.</span></span><br><span class=\"line\">git push -u origin bugfix/UNV-1234-for-squash</span><br></pre></td></tr></table></figure>\n","more":"<h2 id=\"If-your-commits-on-local-not-pushed-to-remote\"><a href=\"#If-your-commits-on-local-not-pushed-to-remote\" class=\"headerlink\" title=\"If your commits on local not pushed to remote\"></a>If your commits on local not pushed to remote</h2><h3 id=\"combine-local-commits-you-could-follow-this-flow\"><a href=\"#combine-local-commits-you-could-follow-this-flow\" class=\"headerlink\" title=\"combine local commits, you could follow this flow\"></a>combine local commits, you could follow this flow</h3><p>Here is <a href=\"https://www.youtube.com/watch?v=V5KrD7CmO4o\">short video</a> (only 3 minutes) and good explanation of <code>git rebase -i</code> usage.</p>\n<p>list your local repository log</p>\n<p><img src=\"/2019/08/git-commit-squash/example-01.png\" alt=\"list your logs in oneline\"></p>\n<p>If you want to combine these 3 commits (add6152, 3650100, 396a652) to 1 commit, execute this command</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git rebase -i HEAD~3      <span class=\"comment\"># last three commits</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2019/08/git-commit-squash/example-02.png\" alt=\"list last three commits\"></p>\n<p>Select which commit you want to squash (type s or squash are OK)</p>\n<p><img src=\"/2019/08/git-commit-squash/example-03.png\" alt=\"combine three commits to one\"></p>\n<p>then press ESC, enter :wq! to save and exit.</p>\n<p><img src=\"/2019/08/git-commit-squash/example-04.png\" alt=\"comment out some commits message you don&#39;t need\"></p>\n<p>Comment out some commits message you don’t need, press ESC, enter :wq! to save and exit.</p>\n<p><img src=\"/2019/08/git-commit-squash/example-05.png\" alt=\"comment out some commits message you don&#39;t need\"></p>\n<p>Check log, you will see your local repository logs has combine to one commit</p>\n<p><img src=\"/2019/08/git-commit-squash/example-06.png\" alt=\"comment out some commits message you don&#39;t need\"></p>\n<h2 id=\"If-your-commits-had-pushed-to-remote\"><a href=\"#If-your-commits-had-pushed-to-remote\" class=\"headerlink\" title=\"If your commits had pushed to remote\"></a>If your commits had pushed to remote</h2><h3 id=\"combine-remote-commits-you-could-follow-this-flow\"><a href=\"#combine-remote-commits-you-could-follow-this-flow\" class=\"headerlink\" title=\"combine remote commits, you could follow this flow\"></a>combine remote commits, you could follow this flow</h3><p>list your repository logs</p>\n<p><img src=\"/2019/08/git-commit-squash/example-07.png\" alt=\"list your logs in oneline\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># so you can create another branch from bugfix/UNV-1234 named bugfix/UNV-1234-for-squash</span></span><br><span class=\"line\">xshen@dln-l-xs01 MINGW64 /c/U2GitCode/git-test (bugfix/UNV-1234)</span><br><span class=\"line\">$ git checkout -b bugfix/UNV-1234-for-squash</span><br><span class=\"line\">Switched to a new branch <span class=\"string\">&#x27;bugfix/UNV-1234-for-squash&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># combine last 2 commits</span></span><br><span class=\"line\">$ git rebase -i HEAD~2</span><br></pre></td></tr></table></figure>\n\n<p>change one commit from pick to squash, see the screenshot below. press ESC, enter :wq! to save and exit.</p>\n<p><img src=\"/2019/08/git-commit-squash/example-08.png\" alt=\"select a commit you want to squash\"></p>\n<p>change commit message, for example “UNV-1234 combine all commit to one commit”, then press ESC, enter :wq! to save and exit.</p>\n<p><img src=\"/2019/08/git-commit-squash/example-09.png\" alt=\"comment out commit message you don&#39;t want to display\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># push your new create branch to remote.</span></span><br><span class=\"line\">git push -u origin bugfix/UNV-1234-for-squash</span><br></pre></td></tr></table></figure>\n","categories":[{"name":"Git","path":"api/categories/Git.json"}],"tags":[{"name":"Git","path":"api/tags/Git.json"},{"name":"Squash","path":"api/tags/Squash.json"}]}