{"title":"Fix flask errors","slug":"2017/11/fix-flask-errors","date":"2017-11-14T05:34:46.000Z","updated":"2020-06-07T03:27:59.543Z","comments":true,"path":"api/articles/2017/11/fix-flask-errors.json","excerpt":null,"covers":null,"content":"<h4 id=\"TypeError-object-of-type-‘filter’-has-no-len\"><a href=\"#TypeError-object-of-type-‘filter’-has-no-len\" class=\"headerlink\" title=\"TypeError: object of type ‘filter’ has no len()\"></a>TypeError: object of type ‘filter’ has no len()</h4><p>Change below code</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@app.route('/todo/api/v1.0/tasks/&lt;int:task_id&gt;', methods=['GET'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_task</span><span class=\"params\">(task_id)</span>:</span></span><br><span class=\"line\">    task = filter(<span class=\"keyword\">lambda</span> t: t[<span class=\"string\">'id'</span>] == task_id, tasks)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(task) == <span class=\"number\">0</span>:</span><br><span class=\"line\">        abort(<span class=\"number\">404</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonify(&#123;<span class=\"string\">'task'</span>: task[<span class=\"number\">0</span>]&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>To</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@app.route('/todo/api/v1.0/tasks/&lt;int:task_id&gt;', methods=['GET'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_task</span><span class=\"params\">(task_id)</span>:</span></span><br><span class=\"line\">    task = list(filter(<span class=\"keyword\">lambda</span> t: t[<span class=\"string\">'id'</span>] == task_id, tasks))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(task) == <span class=\"number\">0</span>:</span><br><span class=\"line\">        abort(<span class=\"number\">404</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonify(&#123;<span class=\"string\">'task'</span>: task[<span class=\"number\">0</span>]&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>Add <code>list()</code>, refer to <a href=\"https://stackoverflow.com/questions/19182188/how-to-find-the-length-of-a-filter-object-in-python\" target=\"_blank\" rel=\"noopener\">stackoverflow</a>.</p>\n","more":"<h4 id=\"TypeError-object-of-type-‘filter’-has-no-len\"><a href=\"#TypeError-object-of-type-‘filter’-has-no-len\" class=\"headerlink\" title=\"TypeError: object of type ‘filter’ has no len()\"></a>TypeError: object of type ‘filter’ has no len()</h4><p>Change below code</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@app.route('/todo/api/v1.0/tasks/&lt;int:task_id&gt;', methods=['GET'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_task</span><span class=\"params\">(task_id)</span>:</span></span><br><span class=\"line\">    task = filter(<span class=\"keyword\">lambda</span> t: t[<span class=\"string\">'id'</span>] == task_id, tasks)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(task) == <span class=\"number\">0</span>:</span><br><span class=\"line\">        abort(<span class=\"number\">404</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonify(&#123;<span class=\"string\">'task'</span>: task[<span class=\"number\">0</span>]&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>To</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@app.route('/todo/api/v1.0/tasks/&lt;int:task_id&gt;', methods=['GET'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_task</span><span class=\"params\">(task_id)</span>:</span></span><br><span class=\"line\">    task = list(filter(<span class=\"keyword\">lambda</span> t: t[<span class=\"string\">'id'</span>] == task_id, tasks))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(task) == <span class=\"number\">0</span>:</span><br><span class=\"line\">        abort(<span class=\"number\">404</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonify(&#123;<span class=\"string\">'task'</span>: task[<span class=\"number\">0</span>]&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>Add <code>list()</code>, refer to <a href=\"https://stackoverflow.com/questions/19182188/how-to-find-the-length-of-a-filter-object-in-python\" target=\"_blank\" rel=\"noopener\">stackoverflow</a>.</p>\n","categories":[{"name":"Snippet","path":"api/categories/Snippet.json"}],"tags":[{"name":"Flask","path":"api/tags/Flask.json"},{"name":"Python","path":"api/tags/Python.json"}]}