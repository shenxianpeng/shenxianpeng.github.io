{"title":"GitHub Actions 还能这么玩？自动将发布的博客文章更新到 GitHub 个人主页","slug":"2021/11/special-repository","date":"2021-11-09T14:02:15.000Z","updated":"2025-06-11T12:29:23.659Z","comments":true,"path":"api/articles/2021/11/special-repository.json","excerpt":"最近实现了一个很有意思的 Workflow，就是通过 GitHub Actions 自动将每次最新发布的文章自动同步到我的 GitHub 首页。就像这样在首页显示最近发布的博客文章。 [Figure] 要实现这样的工作流需要了解以下这几点：需要创建一个与 GitHub 同名的个人仓库，这个仓库的 README.md 信息会显示在首页通过 GitHub Actions 自动获取博客的最新文章并更新 README.md只有当有新的文章发布的时候才触发自动获取、更新文章 GitHub Action","covers":["/2021/11/special-repository/final.png","/2021/11/special-repository/profile.png","/2021/11/special-repository/secrets.png"],"content":"<p>最近实现了一个很有意思的 Workflow，就是通过 GitHub Actions 自动将每次最新发布的文章自动同步到我的 GitHub 首页。</p>\n<p>就像这样在首页显示最近发布的博客文章。</p>\n<p><img src=\"/2021/11/special-repository/final.png\" alt=\"最终效果\"></p>\n<p>要实现这样的工作流需要了解以下这几点：</p>\n<ol>\n<li>需要创建一个与 GitHub 同名的个人仓库，这个仓库的 <code>README.md</code> 信息会显示在首页</li>\n<li>通过 GitHub Actions 自动获取博客的最新文章并更新 <code>README.md</code></li>\n<li>只有当有新的文章发布的时候才触发自动获取、更新文章 GitHub Action</li>\n</ol>\n<span id=\"more\"></span>\n\n<p>GitHub 同名的个人仓库是一个特殊仓库，即创建一个与你的 GitHub 账号同名的仓库，添加的 <code>README.md</code> 会在 GitHub 个人主页显示。</p>\n<p>举个例子：如果你的 GitHub 名叫 <code>GeBiLaoWang</code>，那么当你创建一个叫 <code>GeBiLaoWang</code> 的 Git 仓库，添加 README.md 后就会在主页显示。</p>\n<p>针对这个功能 GitHub 上有很多丰富多彩的个人介绍（如下）。更多灵感可以参看这个链接：<a href=\"https://awesomegithubprofile.tech/\">https://awesomegithubprofile.tech/</a></p>\n<p><img src=\"/2021/11/special-repository/profile.png\" alt=\"profile\"></p>\n<h2 id=\"自动获取文章并更新-README-md\"><a href=\"#自动获取文章并更新-README-md\" class=\"headerlink\" title=\"自动获取文章并更新 README.md\"></a>自动获取文章并更新 <code>README.md</code></h2><p>在 GitHub 上有很多开发者为 GitHub Actions 开发新的小功能。我这里用到一个开源项目叫 <a href=\"https://github.com/gautamkrishnar/blog-post-workflow\">blog-post-workflow</a>，它可以通过 RSS（订阅源）来获取到博客的最新文章。</p>\n<p>它不但支持 RSS 还支持获取 StackOverflow 以及 Youtube 视频等资源。</p>\n<p>我只需要在 GitHub 同名的仓库下添加一个这样的 Workflow YML <code>.github/workflows/blog-post-workflow.yml</code> 即可。</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Latest</span> <span class=\"string\">blog</span> <span class=\"string\">post</span> <span class=\"string\">workflow</span></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">schedule:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">cron:</span> <span class=\"string\">&#x27;* 2 * * *&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">update-readme-with-blog:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">Update</span> <span class=\"string\">this</span> <span class=\"string\">repo&#x27;s</span> <span class=\"string\">README</span> <span class=\"string\">with</span> <span class=\"string\">latest</span> <span class=\"string\">blog</span> <span class=\"string\">posts</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v2</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">gautamkrishnar/blog-post-workflow@master</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"comment\"># 我的博客 RSS 链接</span></span><br><span class=\"line\">          <span class=\"attr\">feed_list:</span> <span class=\"string\">&quot;https://shenxianpeng.github.io/atom.xml&quot;</span></span><br><span class=\"line\">          <span class=\"comment\"># 获取最新 10 篇文章</span></span><br><span class=\"line\">          <span class=\"attr\">max_post_count:</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n\n<p>刚开始我需要让这个 Workflow 能工作即可。因此用的定时触发，即就是每天早上两点就自动获取一次最新文章并更新这个特殊仓库 <code>README.md</code>。</p>\n<p>这个做法还可以，但不够节省资源也不够完美。最好的做法是：只有当有新文章发布时才触发上面的 Workflow 更新 <code>README.md</code>。这就需要有一个 Webhook 当检测到有文章更新时自动触发这里的 Workflow。</p>\n<h2 id=\"触发另一个-GitHub-Action\"><a href=\"#触发另一个-GitHub-Action\" class=\"headerlink\" title=\"触发另一个 GitHub Action\"></a>触发另一个 GitHub Action</h2><p>GitHub Actions 提供了一个 Webhook 事件叫做 <a href=\"https://docs.github.com/en/actions/learn-github-actions/events-that-trigger-workflows#repository_dispatch\"><code>repository_dispatch</code></a> 可以来做这件事。</p>\n<p>它的原理：使用 GitHub API 来触发一个 Webhook 事件，这个事件叫做 <code>repository_dispatch</code>，这个事件里的类型是可以自定义的，并且在要被触发的 workflow 里需要使用 <code>repository_dispatch</code> 事件。</p>\n<p>即：在存放博客文章的仓库里要有一个 Workflow 通过发送 <code>repository_dispatch</code> 事件触发特殊仓库中的 Workflow 来更新 <code>README.md</code>。</p>\n<p>这里我定义事件类型名叫 <code>special_repository</code>，它只接受来自 GitHub API <code>repository_dispatch</code> 事件。</p>\n<p>再次调整上面的 <code>.github/workflows/blog-post-workflow.yml</code> 文件如下：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># special_repository.yml</span></span><br><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Latest</span> <span class=\"string\">blog</span> <span class=\"string\">post</span> <span class=\"string\">workflow</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">repository_dispatch:</span></span><br><span class=\"line\">    <span class=\"comment\"># 这里的类型是可以自定义的，我将它起名为：special_repository</span></span><br><span class=\"line\">    <span class=\"attr\">types:</span> [<span class=\"string\">special_repository</span>]</span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">update-readme-with-blog:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">Update</span> <span class=\"string\">this</span> <span class=\"string\">repo&#x27;s</span> <span class=\"string\">README</span> <span class=\"string\">with</span> <span class=\"string\">latest</span> <span class=\"string\">blog</span> <span class=\"string\">posts</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v2</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">gautamkrishnar/blog-post-workflow@master</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">feed_list:</span> <span class=\"string\">&quot;https://shenxianpeng.github.io/atom.xml&quot;</span></span><br><span class=\"line\">          <span class=\"attr\">max_post_count:</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n\n<p>接受事件的 Workflow 修改好了。如何发送类型为 <code>special_repository</code> 的 <code>repository_dispatch</code> 事件呢？我这里通过 <code>curl</code> 直接调用 API 来完成。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">curl -XPOST -u <span class=\"string\">&quot;<span class=\"variable\">$&#123;&#123; secrets.PAT_USERNAME&#125;</span>&#125;:<span class=\"variable\">$&#123;&#123;secrets.PAT_TOKEN&#125;</span>&#125;&quot;</span> \\</span><br><span class=\"line\">    -H <span class=\"string\">&quot;Accept: application/vnd.github.everest-preview+json&quot;</span> \\</span><br><span class=\"line\">    -H <span class=\"string\">&quot;Content-Type: application/json&quot;</span> https://api.github.com/repos/shenxianpeng/shenxianpeng/dispatches \\</span><br><span class=\"line\">    --data <span class=\"string\">&#x27;&#123;&quot;event_type&quot;: &quot;special_repository&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>最后，发送事件 Workflow YML <code>.github/workflows/send-dispatch.yml</code> 如下:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Tigger</span> <span class=\"string\">special</span> <span class=\"string\">repository</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">push:</span></span><br><span class=\"line\">    <span class=\"comment\"># 当 master 分支有变更的时候触发 workflow</span></span><br><span class=\"line\">    <span class=\"attr\">branches:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">master</span></span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">build:</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Send</span> <span class=\"string\">repository</span> <span class=\"string\">dispatch</span> <span class=\"string\">event</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          curl -XPOST -u &quot;$&#123;&#123; secrets.PAT_USERNAME&#125;&#125;:$&#123;&#123;secrets.PAT_TOKEN&#125;&#125;&quot; \\</span></span><br><span class=\"line\"><span class=\"string\">          -H &quot;Accept: application/vnd.github.everest-preview+json&quot; \\</span></span><br><span class=\"line\"><span class=\"string\">          -H &quot;Content-Type: application/json&quot; https://api.github.com/repos/shenxianpeng/shenxianpeng/dispatches \\</span></span><br><span class=\"line\"><span class=\"string\">          --data &#x27;&#123;&quot;event_type&quot;: &quot;special_repository&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>注：<code>PAT_USERNAME</code> 和 <code>PAT_TOKEN</code> 需要在当前的仓库【设置 -&gt; Secrets】里进行添加，这里就不具体介绍了，需要可以自行搜索。</p>\n<p><img src=\"/2021/11/special-repository/secrets.png\" alt=\"设置 PAT\"></p>\n<p>以上就是通过 GitHub Actions 实现当博客有新发布的文章后自动更新 GitHub 首页的所有内容了。</p>\n<p>如果还有什么有意思的玩法欢迎评论区里分享一下吧。</p>\n","more":"<p>GitHub 同名的个人仓库是一个特殊仓库，即创建一个与你的 GitHub 账号同名的仓库，添加的 <code>README.md</code> 会在 GitHub 个人主页显示。</p>\n<p>举个例子：如果你的 GitHub 名叫 <code>GeBiLaoWang</code>，那么当你创建一个叫 <code>GeBiLaoWang</code> 的 Git 仓库，添加 README.md 后就会在主页显示。</p>\n<p>针对这个功能 GitHub 上有很多丰富多彩的个人介绍（如下）。更多灵感可以参看这个链接：<a href=\"https://awesomegithubprofile.tech/\">https://awesomegithubprofile.tech/</a></p>\n<p><img src=\"/2021/11/special-repository/profile.png\" alt=\"profile\"></p>\n<h2 id=\"自动获取文章并更新-README-md\"><a href=\"#自动获取文章并更新-README-md\" class=\"headerlink\" title=\"自动获取文章并更新 README.md\"></a>自动获取文章并更新 <code>README.md</code></h2><p>在 GitHub 上有很多开发者为 GitHub Actions 开发新的小功能。我这里用到一个开源项目叫 <a href=\"https://github.com/gautamkrishnar/blog-post-workflow\">blog-post-workflow</a>，它可以通过 RSS（订阅源）来获取到博客的最新文章。</p>\n<p>它不但支持 RSS 还支持获取 StackOverflow 以及 Youtube 视频等资源。</p>\n<p>我只需要在 GitHub 同名的仓库下添加一个这样的 Workflow YML <code>.github/workflows/blog-post-workflow.yml</code> 即可。</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Latest</span> <span class=\"string\">blog</span> <span class=\"string\">post</span> <span class=\"string\">workflow</span></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">schedule:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">cron:</span> <span class=\"string\">&#x27;* 2 * * *&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">update-readme-with-blog:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">Update</span> <span class=\"string\">this</span> <span class=\"string\">repo&#x27;s</span> <span class=\"string\">README</span> <span class=\"string\">with</span> <span class=\"string\">latest</span> <span class=\"string\">blog</span> <span class=\"string\">posts</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v2</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">gautamkrishnar/blog-post-workflow@master</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"comment\"># 我的博客 RSS 链接</span></span><br><span class=\"line\">          <span class=\"attr\">feed_list:</span> <span class=\"string\">&quot;https://shenxianpeng.github.io/atom.xml&quot;</span></span><br><span class=\"line\">          <span class=\"comment\"># 获取最新 10 篇文章</span></span><br><span class=\"line\">          <span class=\"attr\">max_post_count:</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n\n<p>刚开始我需要让这个 Workflow 能工作即可。因此用的定时触发，即就是每天早上两点就自动获取一次最新文章并更新这个特殊仓库 <code>README.md</code>。</p>\n<p>这个做法还可以，但不够节省资源也不够完美。最好的做法是：只有当有新文章发布时才触发上面的 Workflow 更新 <code>README.md</code>。这就需要有一个 Webhook 当检测到有文章更新时自动触发这里的 Workflow。</p>\n<h2 id=\"触发另一个-GitHub-Action\"><a href=\"#触发另一个-GitHub-Action\" class=\"headerlink\" title=\"触发另一个 GitHub Action\"></a>触发另一个 GitHub Action</h2><p>GitHub Actions 提供了一个 Webhook 事件叫做 <a href=\"https://docs.github.com/en/actions/learn-github-actions/events-that-trigger-workflows#repository_dispatch\"><code>repository_dispatch</code></a> 可以来做这件事。</p>\n<p>它的原理：使用 GitHub API 来触发一个 Webhook 事件，这个事件叫做 <code>repository_dispatch</code>，这个事件里的类型是可以自定义的，并且在要被触发的 workflow 里需要使用 <code>repository_dispatch</code> 事件。</p>\n<p>即：在存放博客文章的仓库里要有一个 Workflow 通过发送 <code>repository_dispatch</code> 事件触发特殊仓库中的 Workflow 来更新 <code>README.md</code>。</p>\n<p>这里我定义事件类型名叫 <code>special_repository</code>，它只接受来自 GitHub API <code>repository_dispatch</code> 事件。</p>\n<p>再次调整上面的 <code>.github/workflows/blog-post-workflow.yml</code> 文件如下：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># special_repository.yml</span></span><br><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Latest</span> <span class=\"string\">blog</span> <span class=\"string\">post</span> <span class=\"string\">workflow</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">repository_dispatch:</span></span><br><span class=\"line\">    <span class=\"comment\"># 这里的类型是可以自定义的，我将它起名为：special_repository</span></span><br><span class=\"line\">    <span class=\"attr\">types:</span> [<span class=\"string\">special_repository</span>]</span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">update-readme-with-blog:</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">Update</span> <span class=\"string\">this</span> <span class=\"string\">repo&#x27;s</span> <span class=\"string\">README</span> <span class=\"string\">with</span> <span class=\"string\">latest</span> <span class=\"string\">blog</span> <span class=\"string\">posts</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v2</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">uses:</span> <span class=\"string\">gautamkrishnar/blog-post-workflow@master</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">feed_list:</span> <span class=\"string\">&quot;https://shenxianpeng.github.io/atom.xml&quot;</span></span><br><span class=\"line\">          <span class=\"attr\">max_post_count:</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n\n<p>接受事件的 Workflow 修改好了。如何发送类型为 <code>special_repository</code> 的 <code>repository_dispatch</code> 事件呢？我这里通过 <code>curl</code> 直接调用 API 来完成。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">curl -XPOST -u <span class=\"string\">&quot;<span class=\"variable\">$&#123;&#123; secrets.PAT_USERNAME&#125;</span>&#125;:<span class=\"variable\">$&#123;&#123;secrets.PAT_TOKEN&#125;</span>&#125;&quot;</span> \\</span><br><span class=\"line\">    -H <span class=\"string\">&quot;Accept: application/vnd.github.everest-preview+json&quot;</span> \\</span><br><span class=\"line\">    -H <span class=\"string\">&quot;Content-Type: application/json&quot;</span> https://api.github.com/repos/shenxianpeng/shenxianpeng/dispatches \\</span><br><span class=\"line\">    --data <span class=\"string\">&#x27;&#123;&quot;event_type&quot;: &quot;special_repository&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>最后，发送事件 Workflow YML <code>.github/workflows/send-dispatch.yml</code> 如下:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Tigger</span> <span class=\"string\">special</span> <span class=\"string\">repository</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span></span><br><span class=\"line\">  <span class=\"attr\">push:</span></span><br><span class=\"line\">    <span class=\"comment\"># 当 master 分支有变更的时候触发 workflow</span></span><br><span class=\"line\">    <span class=\"attr\">branches:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">master</span></span><br><span class=\"line\">  <span class=\"attr\">workflow_dispatch:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">build:</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Send</span> <span class=\"string\">repository</span> <span class=\"string\">dispatch</span> <span class=\"string\">event</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          curl -XPOST -u &quot;$&#123;&#123; secrets.PAT_USERNAME&#125;&#125;:$&#123;&#123;secrets.PAT_TOKEN&#125;&#125;&quot; \\</span></span><br><span class=\"line\"><span class=\"string\">          -H &quot;Accept: application/vnd.github.everest-preview+json&quot; \\</span></span><br><span class=\"line\"><span class=\"string\">          -H &quot;Content-Type: application/json&quot; https://api.github.com/repos/shenxianpeng/shenxianpeng/dispatches \\</span></span><br><span class=\"line\"><span class=\"string\">          --data &#x27;&#123;&quot;event_type&quot;: &quot;special_repository&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>注：<code>PAT_USERNAME</code> 和 <code>PAT_TOKEN</code> 需要在当前的仓库【设置 -&gt; Secrets】里进行添加，这里就不具体介绍了，需要可以自行搜索。</p>\n<p><img src=\"/2021/11/special-repository/secrets.png\" alt=\"设置 PAT\"></p>\n<p>以上就是通过 GitHub Actions 实现当博客有新发布的文章后自动更新 GitHub 首页的所有内容了。</p>\n<p>如果还有什么有意思的玩法欢迎评论区里分享一下吧。</p>","categories":[{"name":"DevOps","path":"api/categories/DevOps.json"}],"tags":[{"name":"GitHub","path":"api/tags/GitHub.json"},{"name":"Actions","path":"api/tags/Actions.json"}]}