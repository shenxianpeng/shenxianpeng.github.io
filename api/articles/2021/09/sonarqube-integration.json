{"title":"How does SonarQube Community Edition integrate with the project","slug":"2021/09/sonarqube-integration","date":"2021-09-18T02:19:51.000Z","updated":"2021-11-22T14:06:23.779Z","comments":true,"path":"api/articles/2021/09/sonarqube-integration.json","excerpt":null,"covers":null,"content":"<p>After you have set up the SonarQube instance, you will need to integrate SonarQube with project.</p>\n<p>Because I used the community edition version, it doesn’t support the C/C++ project, so I only demo how to integrate with Maven, Gradle, and Others.</p>\n<p>For example, the demo project name and ID in SonarQube are both <code>test-demo</code>, and I build with Jenkins.</p>\n<h2 id=\"Build-with-Maven\"><a href=\"#Build-with-Maven\" class=\"headerlink\" title=\"Build with Maven\"></a>Build with Maven</h2><ol>\n<li><p>Add the following to your <code>pom.xml</code> file:</p>\n <figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">sonar.projectKey</span>&gt;</span>test-demo<span class=\"tag\">&lt;/<span class=\"name\">sonar.projectKey</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Add the following code to your <code>Jenkinsfile</code>:</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stage(&#39;SonarQube Analysis&#39;) &#123;</span><br><span class=\"line\">  def mvn &#x3D; tool &#39;Default Maven&#39;;</span><br><span class=\"line\">  withSonarQubeEnv() &#123;</span><br><span class=\"line\">    sh &quot;$&#123;mvn&#125;&#x2F;bin&#x2F;mvn sonar:sonar&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h2 id=\"Build-with-Gradle\"><a href=\"#Build-with-Gradle\" class=\"headerlink\" title=\"Build with Gradle\"></a>Build with Gradle</h2><ol>\n<li><p>Add the following to your <code>build.gradle</code> file:</p>\n <figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plugins &#123;</span><br><span class=\"line\">  id <span class=\"string\">\"org.sonarqube\"</span> version <span class=\"string\">\"3.3\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">sonarqube &#123;</span><br><span class=\"line\">  properties &#123;</span><br><span class=\"line\">    property <span class=\"string\">\"sonar.projectKey\"</span>, <span class=\"string\">\"test-demo\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Add the following code to your <code>Jenkinsfile</code>:</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stage(&#39;SonarQube Analysis&#39;) &#123;</span><br><span class=\"line\">  withSonarQubeEnv() &#123;</span><br><span class=\"line\">    sh &quot;.&#x2F;gradlew sonarqube&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h2 id=\"Build-with-Other-for-JS-TS-Python-…\"><a href=\"#Build-with-Other-for-JS-TS-Python-…\" class=\"headerlink\" title=\"Build with Other(for JS, TS, Python, …)\"></a>Build with Other(for JS, TS, Python, …)</h2><ol>\n<li><p>Create a <code>sonar-project.properties</code> file in your repository and paste the following code:</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sonar.projectKey&#x3D;test-demo</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Add the following code to your <code>Jenkinsfile</code>:</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stage(&#39;SonarQube Analysis&#39;) &#123;</span><br><span class=\"line\">  def scannerHome &#x3D; tool &#39;SonarScanner&#39;;</span><br><span class=\"line\">  withSonarQubeEnv() &#123;</span><br><span class=\"line\">    sh &quot;$&#123;scannerHome&#125;&#x2F;bin&#x2F;sonar-scanner&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<p>More about how to integrate with SonarQube, please visit your SonarQube instance documentation: <a href=\"http://localhost:9000/documentation\" target=\"_blank\" rel=\"noopener\">http://localhost:9000/documentation</a></p>\n","more":"<p>After you have set up the SonarQube instance, you will need to integrate SonarQube with project.</p>\n<p>Because I used the community edition version, it doesn’t support the C/C++ project, so I only demo how to integrate with Maven, Gradle, and Others.</p>\n<p>For example, the demo project name and ID in SonarQube are both <code>test-demo</code>, and I build with Jenkins.</p>\n<h2 id=\"Build-with-Maven\"><a href=\"#Build-with-Maven\" class=\"headerlink\" title=\"Build with Maven\"></a>Build with Maven</h2><ol>\n<li><p>Add the following to your <code>pom.xml</code> file:</p>\n <figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">sonar.projectKey</span>&gt;</span>test-demo<span class=\"tag\">&lt;/<span class=\"name\">sonar.projectKey</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Add the following code to your <code>Jenkinsfile</code>:</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stage(&#39;SonarQube Analysis&#39;) &#123;</span><br><span class=\"line\">  def mvn &#x3D; tool &#39;Default Maven&#39;;</span><br><span class=\"line\">  withSonarQubeEnv() &#123;</span><br><span class=\"line\">    sh &quot;$&#123;mvn&#125;&#x2F;bin&#x2F;mvn sonar:sonar&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h2 id=\"Build-with-Gradle\"><a href=\"#Build-with-Gradle\" class=\"headerlink\" title=\"Build with Gradle\"></a>Build with Gradle</h2><ol>\n<li><p>Add the following to your <code>build.gradle</code> file:</p>\n <figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plugins &#123;</span><br><span class=\"line\">  id <span class=\"string\">\"org.sonarqube\"</span> version <span class=\"string\">\"3.3\"</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">sonarqube &#123;</span><br><span class=\"line\">  properties &#123;</span><br><span class=\"line\">    property <span class=\"string\">\"sonar.projectKey\"</span>, <span class=\"string\">\"test-demo\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Add the following code to your <code>Jenkinsfile</code>:</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stage(&#39;SonarQube Analysis&#39;) &#123;</span><br><span class=\"line\">  withSonarQubeEnv() &#123;</span><br><span class=\"line\">    sh &quot;.&#x2F;gradlew sonarqube&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h2 id=\"Build-with-Other-for-JS-TS-Python-…\"><a href=\"#Build-with-Other-for-JS-TS-Python-…\" class=\"headerlink\" title=\"Build with Other(for JS, TS, Python, …)\"></a>Build with Other(for JS, TS, Python, …)</h2><ol>\n<li><p>Create a <code>sonar-project.properties</code> file in your repository and paste the following code:</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sonar.projectKey&#x3D;test-demo</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Add the following code to your <code>Jenkinsfile</code>:</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stage(&#39;SonarQube Analysis&#39;) &#123;</span><br><span class=\"line\">  def scannerHome &#x3D; tool &#39;SonarScanner&#39;;</span><br><span class=\"line\">  withSonarQubeEnv() &#123;</span><br><span class=\"line\">    sh &quot;$&#123;scannerHome&#125;&#x2F;bin&#x2F;sonar-scanner&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<p>More about how to integrate with SonarQube, please visit your SonarQube instance documentation: <a href=\"http://localhost:9000/documentation\" target=\"_blank\" rel=\"noopener\">http://localhost:9000/documentation</a></p>\n","categories":[{"name":"SonarQube","path":"api/categories/SonarQube.json"}],"tags":[{"name":"Gradle","path":"api/tags/Gradle.json"},{"name":"SonarQube","path":"api/tags/SonarQube.json"}]}