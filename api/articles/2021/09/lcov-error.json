{"title":"Run lcov failed \"Can't locate JSON/PP.pm in @INC ...\"","slug":"2021/09/lcov-error","date":"2021-09-07T02:18:22.000Z","updated":"2024-09-28T18:48:29.674Z","comments":true,"path":"api/articles/2021/09/lcov-error.json","excerpt":null,"covers":null,"content":"<p>When execute command: <code>lcov --capture --directory . --no-external --output-file coverage.info</code> to generate code coverage report, I encountered the following error:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ lcov --capture --directory . --no-external --output-file coverage.info</span><br><span class=\"line\">Capturing coverage data from .</span><br><span class=\"line\">Can<span class=\"string\">&#x27;t locate JSON/PP.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /usr/local/bin/geninfo line 63.</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted at /usr/local/bin/geninfo line 63.</span></span><br><span class=\"line\"><span class=\"string\">sh-4.2$ perl -MCPAN -e &#x27;</span>install JSON<span class=\"string\">&#x27;</span></span><br><span class=\"line\"><span class=\"string\">Can&#x27;</span>t locate CPAN.pm <span class=\"keyword\">in</span> @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .).</span><br><span class=\"line\">BEGIN failed--compilation aborted.</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Can’t-locate-CPAN-pm\"><a href=\"#Can’t-locate-CPAN-pm\" class=\"headerlink\" title=\"Can’t locate CPAN.pm\"></a>Can’t locate CPAN.pm</h2><p>fixed this problem “Can’t locate CPAN.pm” by running the command <code>yum install perl-CPAN</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sh-4.2$ <span class=\"built_in\">sudo</span> perl -MCPAN -e <span class=\"string\">&#x27;install JSON&#x27;</span></span><br><span class=\"line\">[<span class=\"built_in\">sudo</span>] password <span class=\"keyword\">for</span> sxp:</span><br><span class=\"line\">Can<span class=\"string\">&#x27;t locate CPAN.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .).</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted.</span></span><br><span class=\"line\"><span class=\"string\">sh-4.2$ sudo yum install perl-CPAN</span></span><br></pre></td></tr></table></figure>\n\n<p>Then run <code>sudo perl -MCPAN -e &#39;install JSON&#39;</code> again, it works.</p>\n<h2 id=\"Can’t-locate-JSON-PP-pm\"><a href=\"#Can’t-locate-JSON-PP-pm\" class=\"headerlink\" title=\"Can’t locate JSON&#x2F;PP.pm\"></a>Can’t locate JSON&#x2F;PP.pm</h2><p>fixed this problem by copying backportPP.pm to the PP.pm file.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/local/share/perl5/JSON</span><br><span class=\"line\">$ <span class=\"built_in\">ls</span></span><br><span class=\"line\">backportPP  backportPP.pm</span><br><span class=\"line\">$ <span class=\"built_in\">cp</span> backportPP.pm PP.pm</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Can’t-locate-Module-Load-pm\"><a href=\"#Can’t-locate-Module-Load-pm\" class=\"headerlink\" title=\"Can’t locate Module&#x2F;Load.pm\"></a>Can’t locate Module&#x2F;Load.pm</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">bash-4.2$ geninfo --version</span><br><span class=\"line\">Can<span class=\"string\">&#x27;t locate Module/Load.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /usr/local/bin/geninfo line 63.</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted at /usr/local/bin/geninfo line 63.</span></span><br><span class=\"line\"><span class=\"string\">bash-4.2$</span></span><br></pre></td></tr></table></figure>\n\n<p>Install <code>perl-Module-Load-Conditional</code> can resolved.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> yum install perl-Module-Load-Conditional</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Can’t-locate-Capture-Tiny-pm-in-INC\"><a href=\"#Can’t-locate-Capture-Tiny-pm-in-INC\" class=\"headerlink\" title=\"Can’t locate Capture&#x2F;Tiny.pm in @INC\"></a>Can’t locate Capture&#x2F;Tiny.pm in @INC</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sh-4.2$ lcov --version</span><br><span class=\"line\">Can<span class=\"string\">&#x27;t locate Capture/Tiny.pm in @INC (@INC contains: /usr/local/bin/../lib /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /usr/local/bin/../lib/lcovutil.pm line 13.</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted at /usr/local/bin/../lib/lcovutil.pm line 13.</span></span><br><span class=\"line\"><span class=\"string\">Compilation failed in require at /usr/local/bin/lcov line 104.</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted at /usr/local/bin/lcov line 104.</span></span><br></pre></td></tr></table></figure>\n\n<p>Fixed with following command</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">perl -MCPAN -e <span class=\"string\">&#x27;install Capture::Tiny&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>Then run <code>lcov --version</code> back to work.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sh-4.2$ lcov --version</span><br><span class=\"line\">lcov: LCOV version v1.16-16-g038c2ca</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Can’t-locate-DateTime-pm\"><a href=\"#Can’t-locate-DateTime-pm\" class=\"headerlink\" title=\"Can’t locate DateTime.pm\"></a>Can’t locate DateTime.pm</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ genhtml --<span class=\"built_in\">help</span></span><br><span class=\"line\">Can<span class=\"string\">&#x27;t locate DateTime.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /usr/local/bin/genhtml line 87.</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted at /usr/local/bin/genhtml line 87.</span></span><br></pre></td></tr></table></figure>\n\n<p>Need to install the perl module DateTime, On Centos7 run</p>\n<p><code>sudo yum install &#39;perl(DateTime)&#39;</code></p>\n<p>But this still doesn’t work for me.</p>\n<h2 id=\"Run-geninfo-command-failed\"><a href=\"#Run-geninfo-command-failed\" class=\"headerlink\" title=\"Run geninfo command failed\"></a>Run <code>geninfo</code> command failed</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">Capturing coverage data from .</span><br><span class=\"line\">Compress::Raw::Zlib version 2.201 required--this is only version 2.061 at /usr/local/share/perl5/IO/Uncompress/RawInflate.pm line 8.</span><br><span class=\"line\">BEGIN failed--compilation aborted at /usr/local/share/perl5/IO/Uncompress/RawInflate.pm line 8.</span><br><span class=\"line\">Compilation failed <span class=\"keyword\">in</span> require at /usr/local/share/perl5/IO/Uncompress/Gunzip.pm line 12.</span><br><span class=\"line\">BEGIN failed--compilation aborted at /usr/local/share/perl5/IO/Uncompress/Gunzip.pm line 12.</span><br><span class=\"line\">Compilation failed <span class=\"keyword\">in</span> require at /usr/local/bin/geninfo line 62.</span><br><span class=\"line\">BEGIN failed--compilation aborted at /usr/local/bin/geninfo line 62.</span><br><span class=\"line\">sh-4.2$</span><br></pre></td></tr></table></figure>\n\n<p>Install package <code>Compress::Raw::Zlib</code> fixed.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">perl -MCPAN -e <span class=\"string\">&#x27;install Compress::Raw::Zlib&#x27;</span></span><br></pre></td></tr></table></figure>\n","more":"<p>When execute command: <code>lcov --capture --directory . --no-external --output-file coverage.info</code> to generate code coverage report, I encountered the following error:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ lcov --capture --directory . --no-external --output-file coverage.info</span><br><span class=\"line\">Capturing coverage data from .</span><br><span class=\"line\">Can<span class=\"string\">&#x27;t locate JSON/PP.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /usr/local/bin/geninfo line 63.</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted at /usr/local/bin/geninfo line 63.</span></span><br><span class=\"line\"><span class=\"string\">sh-4.2$ perl -MCPAN -e &#x27;</span>install JSON<span class=\"string\">&#x27;</span></span><br><span class=\"line\"><span class=\"string\">Can&#x27;</span>t locate CPAN.pm <span class=\"keyword\">in</span> @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .).</span><br><span class=\"line\">BEGIN failed--compilation aborted.</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Can’t-locate-CPAN-pm\"><a href=\"#Can’t-locate-CPAN-pm\" class=\"headerlink\" title=\"Can’t locate CPAN.pm\"></a>Can’t locate CPAN.pm</h2><p>fixed this problem “Can’t locate CPAN.pm” by running the command <code>yum install perl-CPAN</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sh-4.2$ <span class=\"built_in\">sudo</span> perl -MCPAN -e <span class=\"string\">&#x27;install JSON&#x27;</span></span><br><span class=\"line\">[<span class=\"built_in\">sudo</span>] password <span class=\"keyword\">for</span> sxp:</span><br><span class=\"line\">Can<span class=\"string\">&#x27;t locate CPAN.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .).</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted.</span></span><br><span class=\"line\"><span class=\"string\">sh-4.2$ sudo yum install perl-CPAN</span></span><br></pre></td></tr></table></figure>\n\n<p>Then run <code>sudo perl -MCPAN -e &#39;install JSON&#39;</code> again, it works.</p>\n<h2 id=\"Can’t-locate-JSON-PP-pm\"><a href=\"#Can’t-locate-JSON-PP-pm\" class=\"headerlink\" title=\"Can’t locate JSON&#x2F;PP.pm\"></a>Can’t locate JSON&#x2F;PP.pm</h2><p>fixed this problem by copying backportPP.pm to the PP.pm file.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ <span class=\"built_in\">cd</span> /usr/local/share/perl5/JSON</span><br><span class=\"line\">$ <span class=\"built_in\">ls</span></span><br><span class=\"line\">backportPP  backportPP.pm</span><br><span class=\"line\">$ <span class=\"built_in\">cp</span> backportPP.pm PP.pm</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Can’t-locate-Module-Load-pm\"><a href=\"#Can’t-locate-Module-Load-pm\" class=\"headerlink\" title=\"Can’t locate Module&#x2F;Load.pm\"></a>Can’t locate Module&#x2F;Load.pm</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">bash-4.2$ geninfo --version</span><br><span class=\"line\">Can<span class=\"string\">&#x27;t locate Module/Load.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /usr/local/bin/geninfo line 63.</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted at /usr/local/bin/geninfo line 63.</span></span><br><span class=\"line\"><span class=\"string\">bash-4.2$</span></span><br></pre></td></tr></table></figure>\n\n<p>Install <code>perl-Module-Load-Conditional</code> can resolved.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> yum install perl-Module-Load-Conditional</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Can’t-locate-Capture-Tiny-pm-in-INC\"><a href=\"#Can’t-locate-Capture-Tiny-pm-in-INC\" class=\"headerlink\" title=\"Can’t locate Capture&#x2F;Tiny.pm in @INC\"></a>Can’t locate Capture&#x2F;Tiny.pm in @INC</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sh-4.2$ lcov --version</span><br><span class=\"line\">Can<span class=\"string\">&#x27;t locate Capture/Tiny.pm in @INC (@INC contains: /usr/local/bin/../lib /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /usr/local/bin/../lib/lcovutil.pm line 13.</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted at /usr/local/bin/../lib/lcovutil.pm line 13.</span></span><br><span class=\"line\"><span class=\"string\">Compilation failed in require at /usr/local/bin/lcov line 104.</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted at /usr/local/bin/lcov line 104.</span></span><br></pre></td></tr></table></figure>\n\n<p>Fixed with following command</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">perl -MCPAN -e <span class=\"string\">&#x27;install Capture::Tiny&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>Then run <code>lcov --version</code> back to work.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">sh-4.2$ lcov --version</span><br><span class=\"line\">lcov: LCOV version v1.16-16-g038c2ca</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Can’t-locate-DateTime-pm\"><a href=\"#Can’t-locate-DateTime-pm\" class=\"headerlink\" title=\"Can’t locate DateTime.pm\"></a>Can’t locate DateTime.pm</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ genhtml --<span class=\"built_in\">help</span></span><br><span class=\"line\">Can<span class=\"string\">&#x27;t locate DateTime.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /usr/local/bin/genhtml line 87.</span></span><br><span class=\"line\"><span class=\"string\">BEGIN failed--compilation aborted at /usr/local/bin/genhtml line 87.</span></span><br></pre></td></tr></table></figure>\n\n<p>Need to install the perl module DateTime, On Centos7 run</p>\n<p><code>sudo yum install &#39;perl(DateTime)&#39;</code></p>\n<p>But this still doesn’t work for me.</p>\n<h2 id=\"Run-geninfo-command-failed\"><a href=\"#Run-geninfo-command-failed\" class=\"headerlink\" title=\"Run geninfo command failed\"></a>Run <code>geninfo</code> command failed</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">Capturing coverage data from .</span><br><span class=\"line\">Compress::Raw::Zlib version 2.201 required--this is only version 2.061 at /usr/local/share/perl5/IO/Uncompress/RawInflate.pm line 8.</span><br><span class=\"line\">BEGIN failed--compilation aborted at /usr/local/share/perl5/IO/Uncompress/RawInflate.pm line 8.</span><br><span class=\"line\">Compilation failed <span class=\"keyword\">in</span> require at /usr/local/share/perl5/IO/Uncompress/Gunzip.pm line 12.</span><br><span class=\"line\">BEGIN failed--compilation aborted at /usr/local/share/perl5/IO/Uncompress/Gunzip.pm line 12.</span><br><span class=\"line\">Compilation failed <span class=\"keyword\">in</span> require at /usr/local/bin/geninfo line 62.</span><br><span class=\"line\">BEGIN failed--compilation aborted at /usr/local/bin/geninfo line 62.</span><br><span class=\"line\">sh-4.2$</span><br></pre></td></tr></table></figure>\n\n<p>Install package <code>Compress::Raw::Zlib</code> fixed.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">perl -MCPAN -e <span class=\"string\">&#x27;install Compress::Raw::Zlib&#x27;</span></span><br></pre></td></tr></table></figure>\n","categories":[{"name":"Coverage","path":"api/categories/Coverage.json"}],"tags":[{"name":"lcov","path":"api/tags/lcov.json"},{"name":"perl","path":"api/tags/perl.json"}]}