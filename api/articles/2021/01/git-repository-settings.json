{"title":"These settings in Bitbucket/GitHub recommends enable","slug":"2021/01/git-repository-settings","date":"2021-01-12T09:35:19.000Z","updated":"2024-04-08T15:50:12.192Z","comments":true,"path":"api/articles/2021/01/git-repository-settings.json","excerpt":null,"covers":null,"content":"<p>As I have management our team’s git repositories for more than two years, and as my daily work using Bitbucket, so I’ll take it as an example.</p>\n<p>Here are some settings recommend you to enable.</p>\n<ol>\n<li>Set Reject Force Push</li>\n<li>Set Branch Prevent deletion</li>\n<li>Set tags for each hotfix&#x2F;GA releases</li>\n<li>Merge Check -&gt; Minimum approvals (1)</li>\n<li>Yet Another Commit Checker</li>\n</ol>\n<h2 id=\"Reject-Force-Push\"><a href=\"#Reject-Force-Push\" class=\"headerlink\" title=\"Reject Force Push\"></a>Reject Force Push</h2><p>This is the first setting I highly recommend you&#x2F;your team to open it. if not, when someone using the <code>git push -f</code> command to the git repository, you may lost commits if his local code is old then remote repository.</p>\n<p>you have to recover the lost commits manually, I have heard 3 times around me. so enable the hook: Reject Force Push ASAP!</p>\n<h2 id=\"Set-Branch-Prevent-deletion\"><a href=\"#Set-Branch-Prevent-deletion\" class=\"headerlink\" title=\"Set Branch Prevent deletion\"></a>Set Branch Prevent deletion</h2><p>If some branch is very important, you don’t want to lost it, set Branch Prevent deletion ASAP!</p>\n<h2 id=\"Set-tags-for-each-hotfix-GA-releases\"><a href=\"#Set-tags-for-each-hotfix-GA-releases\" class=\"headerlink\" title=\"Set tags for each hotfix&#x2F;GA releases\"></a>Set tags for each hotfix&#x2F;GA releases</h2><p>For each hotfix&#x2F;GA release, highly recommend create tags after release.</p>\n<h2 id=\"Merge-Check\"><a href=\"#Merge-Check\" class=\"headerlink\" title=\"Merge Check\"></a>Merge Check</h2><p>Pull Request is a very good workflow process for each team. in case of commits were merged directly without review, we enable Minimum approvals (1).</p>\n<p>So, every branch wants to be merged to the main branch MUST add a reviewer (not allow yourself) and the review must click the Approve button otherwise the merge button is disabled.</p>\n<h2 id=\"Yet-Another-Commit-Checker\"><a href=\"#Yet-Another-Commit-Checker\" class=\"headerlink\" title=\"Yet Another Commit Checker\"></a>Yet Another Commit Checker</h2><p>This is a very powerful feature. it helps to standardize commit messages and create a branch.</p>\n<p>More details about this tool you can refer to <a href=\"https://mohamicorp.atlassian.net/wiki/spaces/DOC/pages/1442119700/Yet+Another+Commit+Checker+YACC+for+Bitbucket\">this introduction</a></p>\n<p>I have a Chinese article to describe how to use Yet Another Commit Checker implement. if you interest it, you can see the post <a href=\"https://shenxianpeng.github.io/2020/09/commit-messages-specification/\">here</a></p>\n","more":"<p>As I have management our team’s git repositories for more than two years, and as my daily work using Bitbucket, so I’ll take it as an example.</p>\n<p>Here are some settings recommend you to enable.</p>\n<ol>\n<li>Set Reject Force Push</li>\n<li>Set Branch Prevent deletion</li>\n<li>Set tags for each hotfix&#x2F;GA releases</li>\n<li>Merge Check -&gt; Minimum approvals (1)</li>\n<li>Yet Another Commit Checker</li>\n</ol>\n<h2 id=\"Reject-Force-Push\"><a href=\"#Reject-Force-Push\" class=\"headerlink\" title=\"Reject Force Push\"></a>Reject Force Push</h2><p>This is the first setting I highly recommend you&#x2F;your team to open it. if not, when someone using the <code>git push -f</code> command to the git repository, you may lost commits if his local code is old then remote repository.</p>\n<p>you have to recover the lost commits manually, I have heard 3 times around me. so enable the hook: Reject Force Push ASAP!</p>\n<h2 id=\"Set-Branch-Prevent-deletion\"><a href=\"#Set-Branch-Prevent-deletion\" class=\"headerlink\" title=\"Set Branch Prevent deletion\"></a>Set Branch Prevent deletion</h2><p>If some branch is very important, you don’t want to lost it, set Branch Prevent deletion ASAP!</p>\n<h2 id=\"Set-tags-for-each-hotfix-GA-releases\"><a href=\"#Set-tags-for-each-hotfix-GA-releases\" class=\"headerlink\" title=\"Set tags for each hotfix&#x2F;GA releases\"></a>Set tags for each hotfix&#x2F;GA releases</h2><p>For each hotfix&#x2F;GA release, highly recommend create tags after release.</p>\n<h2 id=\"Merge-Check\"><a href=\"#Merge-Check\" class=\"headerlink\" title=\"Merge Check\"></a>Merge Check</h2><p>Pull Request is a very good workflow process for each team. in case of commits were merged directly without review, we enable Minimum approvals (1).</p>\n<p>So, every branch wants to be merged to the main branch MUST add a reviewer (not allow yourself) and the review must click the Approve button otherwise the merge button is disabled.</p>\n<h2 id=\"Yet-Another-Commit-Checker\"><a href=\"#Yet-Another-Commit-Checker\" class=\"headerlink\" title=\"Yet Another Commit Checker\"></a>Yet Another Commit Checker</h2><p>This is a very powerful feature. it helps to standardize commit messages and create a branch.</p>\n<p>More details about this tool you can refer to <a href=\"https://mohamicorp.atlassian.net/wiki/spaces/DOC/pages/1442119700/Yet+Another+Commit+Checker+YACC+for+Bitbucket\">this introduction</a></p>\n<p>I have a Chinese article to describe how to use Yet Another Commit Checker implement. if you interest it, you can see the post <a href=\"https://shenxianpeng.github.io/2020/09/commit-messages-specification/\">here</a></p>\n","categories":[{"name":"DevOps","path":"api/categories/DevOps.json"}],"tags":[{"name":"Git","path":"api/tags/Git.json"},{"name":"Bitbucket","path":"api/tags/Bitbucket.json"}]}