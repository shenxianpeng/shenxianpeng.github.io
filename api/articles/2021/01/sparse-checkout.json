{"title":"git sparse-checkout enable and disable","slug":"2021/01/sparse-checkout","date":"2021-01-11T07:03:45.000Z","updated":"2024-11-28T01:10:14.792Z","comments":true,"path":"api/articles/2021/01/sparse-checkout.json","excerpt":null,"covers":null,"content":"<p>This post just a note to myself and it works on my environment. it has not been widely tested.</p>\n<h2 id=\"Enable-git-sparse-checkout\"><a href=\"#Enable-git-sparse-checkout\" class=\"headerlink\" title=\"Enable git sparse-checkout\"></a>Enable git sparse-checkout</h2><p>Just in my case, I cloned a git repo exists problems on the Windows platform with some folder, in order to work on the Windows platform we get a work around solution as following:</p>\n<p>Case 1: when you not already cloned a repository</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">mkdir</span> git-src</span><br><span class=\"line\"><span class=\"built_in\">cd</span> git-src</span><br><span class=\"line\">git init</span><br><span class=\"line\">git config core.sparseCheckout <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;/assets/&quot;</span> &gt;&gt; .git/info/sparse-checkout</span><br><span class=\"line\">git remote add origin git@github.com:shenxianpeng/shenxianpeng.git</span><br><span class=\"line\">git fetch</span><br><span class=\"line\">git checkout master</span><br></pre></td></tr></table></figure>\n\n<p>Case 2: when you already cloned a repository</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> git-src</span><br><span class=\"line\">git config core.sparseCheckout <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;/assets/&quot;</span> &gt;&gt; .git/info/sparse-checkout</span><br><span class=\"line\"><span class=\"built_in\">rm</span> -rf &lt;other-file/folder-you-dont-need&gt;</span><br><span class=\"line\">git checkout</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Disable-git-sparse-checkout\"><a href=\"#Disable-git-sparse-checkout\" class=\"headerlink\" title=\"Disable git sparse-checkout\"></a>Disable git sparse-checkout</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git config core.sparseCheckout <span class=\"literal\">false</span></span><br><span class=\"line\">git read-tree --empty</span><br><span class=\"line\">git reset --hard</span><br></pre></td></tr></table></figure>\n","more":"<p>This post just a note to myself and it works on my environment. it has not been widely tested.</p>\n<h2 id=\"Enable-git-sparse-checkout\"><a href=\"#Enable-git-sparse-checkout\" class=\"headerlink\" title=\"Enable git sparse-checkout\"></a>Enable git sparse-checkout</h2><p>Just in my case, I cloned a git repo exists problems on the Windows platform with some folder, in order to work on the Windows platform we get a work around solution as following:</p>\n<p>Case 1: when you not already cloned a repository</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">mkdir</span> git-src</span><br><span class=\"line\"><span class=\"built_in\">cd</span> git-src</span><br><span class=\"line\">git init</span><br><span class=\"line\">git config core.sparseCheckout <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;/assets/&quot;</span> &gt;&gt; .git/info/sparse-checkout</span><br><span class=\"line\">git remote add origin git@github.com:shenxianpeng/shenxianpeng.git</span><br><span class=\"line\">git fetch</span><br><span class=\"line\">git checkout master</span><br></pre></td></tr></table></figure>\n\n<p>Case 2: when you already cloned a repository</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> git-src</span><br><span class=\"line\">git config core.sparseCheckout <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;/assets/&quot;</span> &gt;&gt; .git/info/sparse-checkout</span><br><span class=\"line\"><span class=\"built_in\">rm</span> -rf &lt;other-file/folder-you-dont-need&gt;</span><br><span class=\"line\">git checkout</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Disable-git-sparse-checkout\"><a href=\"#Disable-git-sparse-checkout\" class=\"headerlink\" title=\"Disable git sparse-checkout\"></a>Disable git sparse-checkout</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git config core.sparseCheckout <span class=\"literal\">false</span></span><br><span class=\"line\">git read-tree --empty</span><br><span class=\"line\">git reset --hard</span><br></pre></td></tr></table></figure>\n","categories":[{"name":"Git","path":"api/categories/Git.json"}],"tags":[{"name":"Git","path":"api/tags/Git.json"}]}